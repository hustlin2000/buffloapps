// --------------------------------------------------------------------------------
// ANIMATIONS SECTION
// --------------------------------------------------------------------------------

function i(s){if(s||0===s){v&&(a.history.scrollRestoration="manual");var r=f&&f.isPressed;s=i.v=Math.round(s)||(f&&f.iOS?1:0),t(s),i.cacheID=y.cache,r&&w("ss",s)}else(e||y.cache!==i.cacheID||w("ref"))&&(i.cacheID=y.cache,i.v=t());return i.v+i.offset}

function t(){return ei(eF,"scrollEnd",t)||eT(!0)}

function t(e,i){!0===i?e.style.removeProperty("touch-action"):e.style.touchAction=!0===i?"auto":i?"pan-"+i+(V.isTouch?" pinch-zoom":""):"none",e===j&&t(U,i)}

function t(e,i,s){var r,n,a,o=e.labels,l=e._recent||tJ,h=e.duration()>=F?l.endTime(!1):e._dur;return W(i)&&(isNaN(i)||i in o)?(n=i.charAt(0),a="%"===i.substr(-1),r=i.indexOf("="),"<"===n||">"===n?(r>=0&&(i=i.replace(/=/,"")),("<"===n?l._start:l.endTime(l._repeat>=0))+(parseFloat(i.substr(1))||0)*(a?(r<0?l:s).totalDuration()/100:1)):r<0?(i in o||(o[i]=h),o[i]):(n=parseFloat(i.charAt(r-1)+i.substr(r+1)),a&&s&&(n=n/100*(tt(s)?s[0]:s).totalDuration()),r>1?t(e,i.substr(0,r-1),s)+n:h+n)):null==i?h:+i}

function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,tZ(this,+t.duration,1,1),this.data=t.data,b&&(this._ctx=b,b.data.push(this)),A||e0.wake()}

function e(e,i){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=K(e.sortChildren),w&&tj(e.parent||w,s(r),i),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&tU(s(r),e.scrollTrigger),r}

function t(e,i,s){var r,n,a,o,l,h,d,u,p,c,f,m,g,$=e.vars,v=$.ease,_=$.startAt,b=$.immediateRender,T=$.lazy,C=$.onUpdate,S=$.onUpdateParams,E=$.callbackScope,P=$.runBackwards,k=$.yoyoEase,A=$.keyframes,D=$.autoRevert,M=e._dur,I=e._startAt,L=e._targets,R=e.parent,B=R&&"nested"===R.data?R.vars.targets:L,N="auto"===e._overwrite&&!y,V=e.timeline;if(!V||A&&v||(v="none"),e._ease=eR(v,O.ease),e._yEase=k?eI(eR(!0===k?v:k,O.ease)):0,k&&e._yoyo&&!e._repeat&&(k=e._yEase,e._yEase=e._ease,e._ease=k),e._from=!V&&!!$.runBackwards,!V||A&&!$.stagger){if(m=(u=L[0]?tS(L[0]).harness:0)&&$[u.prop],r=tz($,tv),I&&(I._zTime<0&&I.progress(1),i<0&&P&&b&&!D?I.render(-1,!0):I.revert(P&&M?tg:tm),I._lazy=0),_){if(tB(e._startAt=ej.set(L,tR({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:!I&&K(T),startAt:null,delay:0,onUpdate:C,onUpdateParams:S,callbackScope:E,stagger:0},_))),e._startAt._dp=0,e._startAt._sat=e,i<0&&(x||!b&&!D)&&e._startAt.revert(tg),b&&M&&i<=0&&s<=0)return void(i&&(e._zTime=i))}else if(P&&M&&!I){if(i&&(b=!1),a=tR({overwrite:!1,data:"isFromStart",lazy:b&&!I&&K(T),immediateRender:b,stagger:0,parent:R},r),m&&(a[u.prop]=m),tB(e._startAt=ej.set(L,a)),e._startAt._dp=0,e._startAt._sat=e,i<0&&(x?e._startAt.revert(tg):e._startAt.render(-1,!0)),e._zTime=i,b){if(!i)return}else t(e._startAt,z,z)}for(e._pt=e._ptCache=0,T=M&&K(T)||T&&!M,n=0;n<L.length;n++){if(d=(l=L[n])._gsap||tC(L)[n]._gsap,e._ptLookup[n]=c={},ty[d.id]&&t_.length&&t1(),f=B===L?n:B.indexOf(l),u&&!1!==(p=new u).init(l,m||r,e,f,B)&&(e._pt=o=new io(e._pt,l,p.name,0,1,p.render,p,0,p.priority),p._props.forEach(function(t){c[t]=o}),p.priority&&(h=1)),!u||m)for(a in r)tx[a]&&(p=e6(a,r,e,f,l,B))?p.priority&&(h=1):c[a]=o=e7.call(e,l,a,"get",r[a],f,B,0,$.stringFilter);e._op&&e._op[n]&&e.kill(l,e._op[n]),N&&e._pt&&(e4=e,w.killTweensOf(l,c,e.globalTime(i)),g=!e.parent,e4=0),e._pt&&T&&(ty[d.id]=1)}h&&ia(e),e._onInit&&e._onInit(e)}e._onUpdate=C,e._initted=(!e._op||e._pt)&&!g,A&&i<=0&&V.render(F,!0,!0)}

function e(e,i,r,n){"number"==typeof i&&(r.duration=i,i=r,r=null);var a,o,l,h,d,u,p,c,f,m=(a=t.call(this,n?i:t9(i))||this).vars,g=m.duration,$=m.delay,v=m.immediateRender,_=m.stagger,x=m.overwrite,b=m.keyframes,T=m.defaults,C=m.scrollTrigger,S=m.yoyoEase,E=i.parent||w,P=(tt(e)||J(e)?U(e[0]):"length"in i)?[e]:eo(e);if(a._targets=P.length?tC(P):tp("GSAP target "+e+" not found. https://greensock.com",!R.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=x,b||_||Q(g)||Q($)){if(i=a.vars,(o=a.timeline=new eB({data:"nested",defaults:T||{},targets:E&&"nested"===E.data?E.vars.targets:P})).kill(),o.parent=o._dp=s(a),o._start=0,_||Q(g)||Q($)){if(d=P.length,c=_&&ed(_),Y(_))for(u in _)~eq.indexOf(u)&&(f||(f={}),f[u]=_[u]);for(l=0;l<d;l++)(h=tz(i,eW)).stagger=0,S&&(h.yoyoEase=S),f&&tO(h,f),p=P[l],h.duration=+eH(g,s(a),l,p,P),h.delay=(+eH($,s(a),l,p,P)||0)-a._delay,!_&&1===d&&h.delay&&(a._delay=$=h.delay,a._start+=$,h.delay=0),o.to(p,h,c?c(l,p,P):0),o._ease=eA.none;o.duration()?g=$=0:a.timeline=0}else if(b){t9(tR(o.vars.defaults,{ease:"none"})),o._ease=eR(b.ease||i.ease||"none");var k,A,D,M=0;if(tt(b))b.forEach(function(t){return o.to(P,t,">")}),o.duration();else{for(u in h={},b)"ease"===u||"easeEach"===u||e5(u,b[u],h,b.easeEach);for(u in h)for(k=h[u].sort(function(t,e){return t.t-e.t}),M=0,l=0;l<k.length;l++)(D={ease:(A=k[l]).e,duration:(A.t-(l?k[l-1].t:0))/100*g})[u]=A.v,o.to(P,D,M),M+=D.duration;o.duration()<g&&o.to({},{duration:g-o.duration()})}}g||a.duration(g=o.duration())}else a.timeline=0;return!0!==x||y||(e4=s(a),w.killTweensOf(P),e4=0),tj(E,s(a),r),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(v||!g&&!b&&a._start===tk(E._time)&&K(v)&&t7(s(a))&&"nested"!==E.data)&&(a._tTime=-z,a.render(Math.max(0,-$)||0)),C&&tU(s(a),C),a}

function t(e){var i,s=sh("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,n=this.nextSibling,a=this.style.cssText;if(i8.appendChild(s),s.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(o){}else this._gsapBBox&&(i=this._gsapBBox());return r&&(n?r.insertBefore(this,n):r.appendChild(this)),i8.removeChild(s),this.style.cssText=a,i}

function t(e,i,s,r){var n,a,o,l,h=parseFloat(s)||0,d=(s+"").trim().substr((h+"").length)||"px",u=iT.style,p=i5.test(i),c="svg"===e.tagName.toLowerCase(),f=(c?"client":"offset")+(p?"Width":"Height"),m=100,g="px"===r,$="%"===r;return r===d||!h||sy[r]||sy[d]?h:("px"===d||g||(h=t(e,i,s,"px")),l=e.getCTM&&s$(e),($||"%"===d)&&(iN[i]||~i.indexOf("adius"))?(n=l?e.getBBox()[p?"width":"height"]:e[f],t0($?h/n*m:h/100*n)):(u[p?"width":"height"]=m+(g?d:r),a=~i.indexOf("adius")||"em"===r&&e.appendChild&&!c?e:e.parentNode,l&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==ib&&a.appendChild||(a=ib.body),(o=a._gsap)&&$&&o.width&&p&&o.time===e0.time&&!o.uncache?t0(h/o.width*m):(($||"%"===d)&&!sx[sd(a,"display")]&&(u.position=sd(e,"position")),a===e&&(u.position="static"),a.appendChild(iT),n=iT[f],a.removeChild(iT),u.position="absolute",p&&$&&((o=tS(a)).time=e0.time,o.width=a[f]),t0(g?n*h/m:n&&h?m/n*h:0))))}

function e(e){var i,s,r,a,o=void 0===e?{}:e,l=o.duration,h=void 0===l?1.2:l,d=o.easing,u=void 0===d?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:d,c=o.smooth,f=void 0===c||c,m=o.mouseMultiplier,g=void 0===m?1:m,$=o.smoothTouch,v=void 0!==$&&$,_=o.touchMultiplier,y=void 0===_?2:_,x=o.direction,b=void 0===x?"vertical":x,w=o.gestureDirection,T=void 0===w?"vertical":w,C=o.infinite,S=void 0!==C&&C,E=o.wrapper,P=void 0===E?window:E,k=o.content,A=void 0===k?document.body:k;(a=t.call(this)||this).onWindowResize=function(){a.wrapperWidth=window.innerWidth,a.wrapperHeight=window.innerHeight},a.onWrapperResize=function(t){var e=t[0];if(e){var i=e.contentRect;a.wrapperWidth=i.width,a.wrapperHeight=i.height}},a.onContentResize=function(t){var e=t[0];if(e){var i=e.contentRect;a.contentWidth=i.width,a.contentHeight=i.height}},a.onVirtualScroll=function(t){var e=t.deltaY,i=t.deltaX,s=t.originalEvent;if(!("vertical"===a.gestureDirection&&0===e||"horizontal"===a.gestureDirection&&0===i)){var r=!!s.composedPath().find(function(t){return t.hasAttribute&&t.hasAttribute("data-lenis-prevent")});s.ctrlKey||r||(a.smooth=s.changedTouches?a.smoothTouch:a.options.smooth,a.stopped?s.preventDefault():a.smooth&&4!==s.buttons&&(a.smooth&&s.preventDefault(),a.targetScroll-="both"===a.gestureDirection?i+e:"horizontal"===a.gestureDirection?i:e,a.scrollTo(a.targetScroll)))}},a.onScroll=function(t){a.isScrolling&&a.smooth||(a.targetScroll=a.scroll=a.lastScroll=a.wrapperNode[a.scrollProperty],a.notify())},window.lenisVersion="0.2.28",a.options={duration:h,easing:u,smooth:f,mouseMultiplier:g,smoothTouch:v,touchMultiplier:y,direction:b,gestureDirection:T,infinite:S,wrapper:P,content:A},a.duration=h,a.easing=u,a.smooth=f,a.mouseMultiplier=g,a.smoothTouch=v,a.touchMultiplier=y,a.direction=b,a.gestureDirection=T,a.infinite=S,a.wrapperNode=P,a.contentNode=A,a.wrapperNode.

var l={ww:null,initLoad:function(){l.ww=s(window).outerWidth(),this.initAnimation()},initAnimation:function(){this.initTopTextAnim(),this.initFadeInUpAnim(),this.initZoomOutAnim(),this.initZoomOutTopAnim()},initTopTextAnim:function(){var t=s(".fadeInUpTop");if(0==t.length)return!1;t.each(function(t,e){var i=s(e).data("extra-delay")||0,r=s(e).data("trigger")||"top 75%";n.gsap.timeline({scrollTrigger:{trigger:e,start:r}}).from(e,{opacity:0,y:30,duration:.5,ease:"power1.inOut",delay:o.default.startingDelay+i})})},initFadeInUpAnim:function(){var t=s(".fadeInUp");if(0==t.length)return!1;t.each(function(t,e){var i=s(e).data("extra-delay")||0,r=s(e).data("trigger")||"top 75%";n.gsap.timeline({scrollTrigger:{trigger:e,start:r}}).from(s(e),{opacity:0,y:30,duration:.5,delay:i,ease:"power1.inOut"})})},initZoomOutAnim:function(){var t=s(".zoomOut");if(0==t.length)return!1;var e=l.ww<=850?1.1:1.05;t.each(function(t,i){n.gsap.set(i,{scale:1.25}),n.gsap.timeline({scrollTrigger:{trigger:i,start:"top 75%"}}).to(s(i),{scale:e,duration:.85,ease:"power1.inOut"})})},initZoomOutTopAnim:function(){var t=s(".zoomOutTop");if(0==t.length)return!1;var e=l.ww<=850?1.1:1.05;t.each(function(t,i){var r=s(i).data("extra-delay")||0;n.gsap.set(i,{scale:1.25}),n.gsap.timeline({scrollTrigger:{trigger:i,start:"top 75%"}}).to(s(i),{scale:e,duration:.85,ease:"power1.inOut",delay:o.default.startingDelay+r})})}}

var r={cursorEl:document.querySelector("#cursor"),cursorCircle:document.querySelector(".cursor__circle"),mouse:{x:-100,y:-100},pos:{x:0,y:0},speed:.2,updateCoordinates:function(t){r.mouse.x=t.clientX,r.mouse.y=t.clientY},getAngle:function(t,e){return 180*Math.atan2(e,t)/Math.PI},getSqueeze:function(t,e){return Math.min(Math.sqrt(Math.pow(t,2)+Math.pow(e,2))/750,.25)},updateCursor:function(){var t=Math.round(r.mouse.x-r.pos.x),e=Math.round(r.mouse.y-r.pos.y);r.pos.x+=t*r.speed,r.pos.y+=e*r.speed;var i=r.getAngle(t,e),s=r.getSqueeze(t,e),n="scale("+(1+s)+", "+(1-s)+")",a="rotate("+i+"deg)",o="translate3d("+r.pos.x+"px ,"+r.pos.y+"px, 0)";r.cursorEl.style.transform=o,r.cursorCircle.style.transform=a+n},loop:function(){r.updateCursor(),requestAnimationFrame(r.loop)},loadModifiers:function(){r.cleanCursorText(),s(document).on("mouseenter","[cursor-class]",function(){var t=s(this).attr("cursor-class");r.cursorEl.classList.add(t)}),s(document).on("mouseleave","[cursor-class]",function(){var t=s(this).attr("cursor-class");r.cursorEl.classList.remove(t)}),s(document).on("mouseenter","a",function(){r.cursorEl.classList.add("default")}),s(document).on("mouseleave","a",function(){r.cursorEl.classList.remove("default")}),s(document).on("mouseenter","*[data-cursor-has-label]",function(){r.toggleLabel(s(this),"enter")}),s(document).on("mouseleave","*[data-cursor-has-label]",function(){r.toggleLabel(s(this))})},toggleLabel:function(t){if("enter"==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"leave")){r.cursorEl.classList.add("cursor-has-label");var e=document.createElement("p");e.classList.add("text"),e.textContent=t.data("cursor-has-label"),r.cursorCircle.append(e)}else r.cursorEl.classList.remove("cursor-has-label"),r.cleanCursorText()},cleanCursorText:function(){r.cursorCircle.innerText=""},initReady:function(){s(r.cursorEl).addClass("active"),r.loadModifiers(),window.

var a={initLoad:function(){this.initFooterAnim()},initFooterAnim:function(){var t=r.default.timeline({paused:!0});t.addLabel("start").from(".pre-footer",{yPercent:50,ease:"none"},"start").from(".pre-footer__label",{opacity:0,y:50,ease:"none"},"start"),n.ScrollTrigger.create({trigger:".pre-footer",start:"top bottom",end:"top center",animation:t,scrub:!0})}}

var l={initLoad:function(){this.initLoader(),this.initLoaderButtons()},initLoader:function(){if(0==s(".loader").length)return!1;var t=n.default.timeline();n.default.set(s(".loader__logo"),{top:"50%",left:"50%",xPercent:-50,yPercent:-50}),t.to(s(".fingerprint"),{opacity:1,duration:.65}).addLabel("start"),t.to(s(".fingerprint-line"),{opacity:0,stagger:{from:"center",amount:1},ease:"power1.inOut"},"start+=.8"),t.to(s(".loader__logo"),{opacity:1,duration:1.5},"start+=1.5").addLabel("middle"),t.to(s(".loader__logo"),{top:"10%",yPercent:0,ease:"power3.inOut",duration:1.2},"middle-=1.5").addLabel("end"),t.to(s(".loader__content"),{opacity:1,duration:1.5},"end-=.5"),t.to(s(".loader__bottom"),{opacity:1,duration:1.5},"end-=.3")},initLoaderButtons:function(){if(0==s(".loader").length)return!1;s(".loader__content__buttons span").on("click",function(){o.default.audioInit(),o.default.sliderAutoplayInit(),s(".loader__content__buttons span").removeClass("active"),s(this).addClass("active"),s(this).hasClass("no")?n.default.to(".loader__content__message",{opacity:1,duration:1}):n.default.to(".loader",{opacity:0,duration:.6,delay:.1,onComplete:function(){s(".loader").remove(),s("#cursor").removeClass("default")}})})}}

var l={initLoad:function(){this.initNewsAccordion()},initNewsAccordion:function(){if(0==s(".news-list").length)return!1;s(".news-box__header").on("click",function(){s(this).parent().hasClass("active")?(s(this).parent().removeClass("active"),s(this).parent().find(".news-box__body").slideUp(450)):(s(".news-box").removeClass("active"),s(".news-box").find(".news-box__body").slideUp(450),s(this).parent().addClass("active"),s(this).parent().find(".news-box__body").slideDown(450)),setTimeout(function(){o.default.refreshNewsletterParallax(),a.ScrollTrigger.refresh()},500)})}}

var o={tl:null,initLoad:function(){850>=s(window).outerWidth()?this.initProdCatEffectMobile():this.initProdCatEffect()},initProdCatEffect:function(){var t=s(".product-cats");if(0==t.length)return!1;o.tl=n.default.timeline({scrollTrigger:{trigger:t,start:"top top",scrub:!0,pin:!0,pinSpacing:!0,end:"+=400%"}}).addLabel("start");var e=0;s(".product-cats__card").each(function(t,i){e=s(i).height()>e?s(i).height():e,o.tl.to(i,{yPercent:-100,scale:.9,duration:1},"start+="+.7*t),o.tl.from(s(i).find(".product-cats__card__col img"),{scale:1.5,duration:1},"start+="+.7*t)}).height(e)},initProdCatEffectMobile:function(){s(".product-cats__card").each(function(t,e){n.default.timeline({scrollTrigger:{trigger:e,start:"top 70%"}}).addLabel("start").from(e,{opacity:0,y:30,duration:.85,ease:"Power1.inOut"},"start").from(s(e).find("img"),{scale:1.2,duration:.85,ease:"Power1.inOut"},"start+=0.2")})}}

var h={ind:1,initLoad:function(){850>=s(window).outerWidth()?this.initProductsSlider():this.initProductsEffect()},initProductsEffect:function(){var t=s(".product-list__content");if(0==t.length)return!1;n.default.timeline({scrollTrigger:{trigger:t,start:"center center",pin:!0,endTrigger:".product-list",end:"bottom+=5% bottom",onEnter:function(){n.default.to(".product-list__nav",{opacity:1,pointerEvents:"auto",y:0,duration:.55,ease:"power1.inOut"})},onLeave:function(){n.default.to(".product-list__nav",{opacity:0,pointerEvents:"none",y:30,duration:.5,ease:"power1.inOut"})},onEnterBack:function(){n.default.to(".product-list__nav",{opacity:1,pointerEvents:"auto",y:0,duration:.55,ease:"power1.inOut"})},onLeaveBack:function(){n.default.to(".product-list__nav",{opacity:0,pointerEvents:"none",y:30,duration:.5,ease:"power1.inOut"})}}}),s(".product-list__data").each(function(t,e){n.default.timeline({scrollTrigger:{trigger:s(".product-list__imageWrap").eq(t),start:"top center",scrub:!0,end:"+=100%",onEnter:function(){s(".product-list__nav li").eq(t).addClass("active")},onLeave:function(){s(".product-list__nav li").eq(t).removeClass("active")},onEnterBack:function(){s(".product-list__nav li").eq(t).addClass("active")},onLeaveBack:function(){s(".product-list__nav li").eq(t).removeClass("active")}}}).to(e,{opacity:1,zIndex:10}).to(e,{opacity:0,zIndex:1})}),s(".product-list__nav a").on("click",function(){var t=s(this).parent().index()+1,e=(s(window).outerHeight()-s(".product-list__content").outerHeight())/2;console.log(e),l.default.scrollInstance.scrollTo(".image-"+t,{offset:10-e})})},initProductsSlider:function(){if(0==s(".product-list-mobile").length)return!1;new o.default(".product-list-mobile__slider",{slidesPerView:1,speed:600,centeredSlides:!0,cssMode:!0,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0}})}}

var t={anchors:"a",forms:"form",allowFormCaching:!1,scroll:!0,blacklist:".no-smoothState, .no-smoothState > a, .wpcf7-form",prefetch:!1,cacheLength:0,onBefore:function(t,e){s("#cursor").attr("class","active loading"),s(".page_HOME").length&&s(".swiper-slide").addClass("exiting"),n.default.set(document.getElementById("overlay"),{y:"100vh"}),n.default.to(document.getElementById("overlay"),{y:0,duration:.7,ease:"expo.in"})},onStart:{duration:1100,render:function(t){}},onReady:{render:function(t,e){a.ScrollTrigger.getAll().forEach(function(t){return t.kill()}),t.html(e),window.scrollTo(0,0)}},onAfter:function(t,e){s(document).trigger("rebuild"),s("#cursor").removeClass("loading"),s(".page_HOME").length?(o.default.isPlayingLoader=!1,o.default.audioInit(),o.default.sliderAutoplayInit()):(o.default.swiper&&o.default.swiper.destroy(),o.default.muteAudio()),l.default.setHeaderColor();var i="div.wpcf7 > form";e.find(i).length>0&&s(i).each(function(){var t=s(this);wpcf7.init(t[0])}),setTimeout(function(){n.default.to(document.getElementById("overlay"),{y:"-100vh",duration:.7,ease:"expo.in"})},500)}}

function x(t,e,i){var s,r,n=(i=i||_).createElement("script");if(n.text=t,e)for(s in y)(r=e[s]||e.getAttribute&&e.getAttribute(s))&&n.setAttribute(s,r);i.head.appendChild(n).parentNode.removeChild(n)}

function tl(t,e,s,r){var n,o,h,d,u,f,$,v=e&&e.ownerDocument,x=e?e.nodeType:9;if(s=s||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return s;if(!r&&(p(e),e=e||c,m)){if(11!==x&&(u=J.exec(t))){if(n=u[1]){if(9===x){if(!(h=e.getElementById(n)))return s;if(h.id===n)return s.push(h),s}else if(v&&(h=v.getElementById(n))&&_(e,h)&&h.id===n)return s.push(h),s}else{if(u[2])return I.apply(s,e.getElementsByTagName(t)),s;if((n=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return I.apply(s,e.getElementsByClassName(n)),s}}if(i.qsa&&!E[t+" "]&&(!g||!g.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if($=t,v=e,1===x&&(W.test(t)||q.test(t))){for((v=tt.test(t)&&tv(e.parentNode)||e)===e&&i.scope||((d=e.getAttribute("id"))?d=d.replace(ts,tr):e.setAttribute("id",d=y)),o=(f=a(t)).length;o--;)f[o]=(d?"#"+d:":scope")+" "+ty(f[o]);$=f.join(",")}try{if(i.cssSupportsSelector&&!CSS.supports("selector(:is("+$+"))"))throw Error();return I.apply(s,v.querySelectorAll($)),s}catch(b){E(t,!0)}finally{d===y&&e.removeAttribute("id")}}}return l(t.replace(G,"$1"),e,s,r)}

function tu(t){var e=c.createElement("fieldset");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}

function q(){_.removeEventListener("DOMContentLoaded",q),s.removeEventListener("load",q),T.ready()}

function tp(t){var e,i=t.ownerDocument,s=t.nodeName,r=tu[s];return r||(e=i.body.appendChild(i.createElement(s)),r=T.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),tu[s]=r,r)}

function tM(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}

function tI(t,e){var i,s,r,n,a,o;if(1===e.nodeType){if(Q.hasData(t)&&(o=Q.get(t).events))for(r in Q.remove(e,"handle events"),o)for(i=0,s=o[r].length;i<s;i++)T.event.add(e,r,o[r][i]);J.hasData(t)&&(n=J.access(t),a=T.extend({},n),J.set(e,a))}}

function tO(t,e,i){for(var s,r=e?T.filter(e,t):t,n=0;null!=(s=r[n]);n++)i||1!==s.nodeType||T.cleanData(ty(s)),s.parentNode&&(i&&to(s)&&tx(ty(s,"script")),s.parentNode.removeChild(s));return t}

function t(){if(d){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ta.appendChild(h).appendChild(d);var t=s.getComputedStyle(d);i="1%"!==t.top,l=12===e(t.marginLeft),d.style.right="60%",a=36===e(t.right),r=36===e(t.width),d.style.position="absolute",n=12===e(d.offsetWidth/3),ta.removeChild(h),d=null}}

function er(t,e,i){var s,r,n=0,a=er.prefilters.length,o=T.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=tK||ee(),i=Math.max(0,h.startTime+h.duration-e),s=1-(i/h.duration||0),n=0,a=h.tweens.length;n<a;n++)h.tweens[n].run(s);return o.notifyWith(t,[h,s,i]),s<1&&a?i:(a||o.notifyWith(t,[h,1,0]),o.resolveWith(t,[h]),!1)},h=o.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},i),originalProperties:e,originalOptions:i,startTime:tK||ee(),duration:i.duration,tweens:[],createTween:function(e,i){var s=T.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(s),s},stop:function(e){var i=0,s=e?h.tweens.length:0;if(r)return this;for(r=!0;i<s;i++)h.tweens[i].run(1);return e?(o.notifyWith(t,[h,1,0]),o.resolveWith(t,[h,e])):o.rejectWith(t,[h,e]),this}}),d=h.props;for(function(t,e){var i,s,r,n,a;for(i in t)if(r=e[s=Y(i)],Array.isArray(n=t[i])&&(r=n[1],n=t[i]=n[0]),i!==s&&(t[s]=n,delete t[i]),(a=T.cssHooks[s])&&("expand"in a))for(i in n=a.expand(n),delete t[s],n)(i in t)||(t[i]=n[i],e[i]=r);else e[s]=r}(d,h.opts.specialEasing);n<a;n++)if(s=er.prefilters[n].call(h,t,d,h.opts))return $(s.stop)&&(T._queueHooks(h.elem,h.opts.queue).stop=s.stop.bind(s)),s;return T.map(d,es,h),$(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),T.fx.timer(T.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h}

function t(t,e){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!t)return this;if(g++,this.lgId=g,this.el=t,this.LGel=d(t),this.generateSettings(e),this.buildModules(),this.settings.dynamic&&void 0!==this.settings.dynamicEl&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}

function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}

var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)}

var i={wrapper:t,animationData:e}

var animationManager=function(){

function o(t){for(var i=0,r=t.target;i<s;)e[i].animation===r&&(e.splice(i,1),i-=1,s-=1,r.isPaused||d()),i+=1}

function l(t,i){if(!t)return null;for(var r=0;r<s;){if(e[r].elem===t&&null!==e[r].elem)return e[r].animation;r+=1}var n=new AnimationItem;return u(n,t),n.setData(t,i),n}

function p(t){var o,l=t-i;for(o=0;o<s;o+=1)e[o].animation.advanceTime(l);i=t,r&&!a?window.requestAnimationFrame(p):n=!0}

function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}

function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}

function e(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var s,r=e.or.k.length;for(s=0;s<r;s+=1)e.or.k[s].to=null,e.or.k[s].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}

var o={addChars:function(t){if(t){this.chars||(this.chars=[]);var e,i,s,r=t.length,n=this.chars.length;for(e=0;e<r;e+=1){for(i=0,s=!1;i<n;)this.chars[i].style===t[e].style&&this.chars[i].fFamily===t[e].fFamily&&this.chars[i].ch===t[e].ch&&(s=!0),i+=1;s||(this.chars.push(t[e]),n+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);if(!document.body)return this.isLoaded=!0,t.list.forEach(function(t){t.helper=n(t),t.cache={}}),void(this.fonts=t.list);var i,s=t.list,a=s.length,o=a;for(i=0;i<a;i+=1){var l,h,d=!0;if(s[i].loaded=!1,s[i].monoCase=r(s[i].fFamily,"monospace"),s[i].sansCase=r(s[i].fFamily,"sans-serif"),s[i].fPath){if("p"===s[i].fOrigin||3===s[i].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+s[i].fFamily+'"], style[f-origin="3"][f-family="'+s[i].fFamily+'"]')).length>0&&(d=!1),d){var u=createTag("style");u.setAttribute("f-forigin",s[i].fOrigin),u.setAttribute("f-origin",s[i].origin),u.setAttribute("f-family",s[i].fFamily),u.type="text/css",u.innerText="@font-face {font-family: "+s[i].fFamily+"; font-style: normal; src: url('"+s[i].fPath+"');}",e.appendChild(u)}}else if("g"===s[i].fOrigin||1===s[i].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),h=0;h<l.length;h+=1)-1!==l[h].href.indexOf(s[i].fPath)&&(d=!1);if(d){var p=createTag("link");p.setAttribute("f-forigin",s[i].fOrigin),p.setAttribute("f-origin",s[i].origin),p.type="text/css",p.rel="stylesheet",p.href=s[i].fPath,document.body.appendChild(p)}}else if("t"===s[i].fOrigin||2===s[i].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),h=0;h<l.length;h+=1)s[i].fPath===l[h].src&&(d=!1);if(d){var c=createTag("link");c.setAttribute("f-forigin",s[i].fOrigin),c.setAttribute("f-origin",s[i].origin),c.setAttribute("rel","stylesheet"),c.setAttribute("href",s[i].fPath),e.appendChild(c)}}}else s[i].loaded=!0,o-=1;s[i].helper=n(s[i],e),s[i].cache={},this.fonts.push(s[i])}0===o?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,i,s){for(var r=0,n=this.chars.length;r<n;){if(this.chars[r].ch===e&&this.chars[r].style===i&&this.chars[r].fFamily===s)return this.chars[r];r+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,i,s)),t},getFontByName:function(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,i){var s=this.getFontByName(e),r=t.charCodeAt(0);if(!s.cache[r+1]){var n=s.helper;if(" "===t){var a=n.measureText("|"+t+"|"),o=n.measureText("||");s.cache[r+1]=(a-o)/100}else s.cache[r+1]=n.measureText(t)/100}return s.cache[r+1]*i},checkLoadedFonts:function(){var t,e,i,s=this.fonts.length,r=s;for(t=0;t<s;t+=1)this.fonts[t].loaded?r-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,i=this.fonts[t].monoCase.w,e.offsetWidth!==i?(r-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,i=this.fonts[t].sansCase.w,e.offsetWidth!==i&&(r-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==r&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}}

function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}

function SVGShapeData(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var s=0,r=t.length;s<r;){if(t[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}

function i(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}

function r(i,s,r){var n,a,o,l,h,d,u,p,c,f,m,g=s.styles.length,$=s.lvl;for(d=0;d<g;d+=1){if(l=s.sh._mdf||r,s.styles[d].lvl<$){for(p=e.reset(),f=$-s.styles[d].lvl,m=s.transformers.length-1;!l&&f>0;)l=s.transformers[m].mProps._mdf||l,f-=1,m-=1;if(l)for(f=$-s.styles[d].lvl,m=s.transformers.length-1;f>0;)c=s.transformers[m].mProps.v.props,p.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]),f-=1,m-=1}else p=t;if(a=(u=s.sh.paths)._length,l){for(o="",n=0;n<a;n+=1)(h=u.shapes[n])&&h._length&&(o+=buildShapeString(h,h._length,h.c,p));s.caches[d]=o}else o=s.caches[d];s.styles[d].d+=!0===i.hd?"":o,s.styles[d]._mdf=l||s.styles[d]._mdf}}

function SVGShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}

function TextAnimatorDataProperty(t,e,i){

function TextAnimatorProperty(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}

function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(e&&e.title){var s=createNS("title"),r=createElementID();s.setAttribute("id",r),s.textContent=e.title,this.svgElement.appendChild(s),i+=r}if(e&&e.description){var n=createNS("desc"),a=createElementID();n.setAttribute("id",a),n.textContent=e.description,this.svgElement.appendChild(n),i+=" "+a}i&&this.svgElement.setAttribute("aria-labelledby",i);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}

function CVShapeData(t,e,i,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r,n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,n,t);var a,o=i.length;for(r=0;r<o;r+=1)i[r].closed||(a={transforms:s.addTransformSequence(i[r].transforms),trNodes:[]},this.styledShapes.push(a),i[r].elements.push(a))}

function CVShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,i)}

function CanvasRendererBase(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}

function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}

function HShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}

function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}

function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}

var i={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd}

function d(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}

function e(e,i,s){var r,n,o,l,h,d,u=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return u.content;default:return u.transform}};u.propertyGroup=propertyGroupFactory(u,s);var p=(r=e,n=i,o=u.propertyGroup,(h=function(t){for(var e=0,i=l.length;e<i;){if(l[e]._name===t||l[e].mn===t||l[e].propertyIndex===t||l[e].ix===t||l[e].ind===t)return l[e];e+=1}return"number"==typeof t?l[t-1]:null}).propertyGroup=propertyGroupFactory(h,o),l=t(r.it,n.it,h.propertyGroup),h.numProperties=l.length,d=a(r.it[r.it.length-1],n.it[n.it.length-1],h.propertyGroup),h.transform=d,h.propertyIndex=r.cix,h._name=r.nm,h),c=a(e.it[e.it.length-1],i.it[i.it.length-1],u.propertyGroup);return u.content=p,u.transform=c,Object.defineProperty(u,"_name",{get:function(){return e.nm}}),u.numProperties=e.np,u.propertyIndex=e.ix,u.nm=e.nm,u.mn=e.mn,u}

function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||($bm_transform=transform=elem.layerInterface("ADBE Transform Group"),transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}

function s(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var i=this.a.getValueAtTime(t);e.translate(-i[0]*this.a.mult,-i[1]*this.a.mult,i[2]*this.a.mult)}if(this.appliedTransformations<2){var s=this.s.getValueAtTime(t);e.scale(s[0]*this.s.mult,s[1]*this.s.mult,s[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var r=this.sk.getValueAtTime(t),n=this.sa.getValueAtTime(t);e.skewFromAxis(-r*this.sk.mult,n*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var a=this.r.getValueAtTime(t);e.rotate(-a*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),h=this.rx.getValueAtTime(t),d=this.or.getValueAtTime(t);e.rotateZ(-o*this.rz.mult).rotateY(l*this.ry.mult).rotateX(h*this.rx.mult).rotateZ(-d[2]*this.or.mult).rotateY(d[1]*this.or.mult).rotateX(d[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var u=this.px.getValueAtTime(t),p=this.py.getValueAtTime(t);if(this.data.p.z){var c=this.pz.getValueAtTime(t);e.translate(u*this.px.mult,p*this.py.mult,-c*this.pz.mult)}else e.translate(u*this.px.mult,p*this.py.mult,0)}else{var f=this.p.getValueAtTime(t);e.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return e}

function SVGMatte3Effect(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}

var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},e.__cache={};var r=0;return e.GetUniqueElementId=function(t){var i=t.getAttribute("data-select2-id");return null!=i||(i=t.id?"select2-data-"+t.id:"select2-data-"+(++r).toString()+"-"+e.generateChars(4),t.setAttribute("data-select2-id",i)),i},e.StoreData=function(t,i,s){var r=e.GetUniqueElementId(t);e.__cache[r]||(e.__cache[r]={}),e.__cache[r][i]=s},e.GetData=function(i,s){var r=e.GetUniqueElementId(i);return s?e.__cache[r]&&null!=e.__cache[r][s]?e.__cache[r][s]:t(i).data(s):e.__cache[r]},e.RemoveData=function(t){var i=e.GetUniqueElementId(t);null!=e.__cache[i]&&delete e.__cache[i],t.removeAttribute("data-select2-id")},e.copyNonInternalCssClasses=function(t,e){var i=t.getAttribute("class").trim().split(/\s+/);i=i.filter(function(t){return 0===t.indexOf("select2-")});var s=e.getAttribute("class").trim().split(/\s+/);s=s.filter(function(t){return 0!==t.indexOf("select2-")});var r=i.concat(s);t.setAttribute("class",r.join(" "))},e}),r.define("select2/results",["jquery","./utils"],function(t,e){

function t(t){var e=this;Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),this._onWheel=function(t){var s=i(e,o)[o],r=i(e,d)[d];r.deltaX=t.wheelDeltaX||-1*t.deltaX,r.deltaY=t.wheelDeltaY||-1*t.deltaY,n.isFirefox&&1===t.deltaMode&&(r.deltaX*=s.firefoxMultiplier,r.deltaY*=s.firefoxMultiplier),r.deltaX*=s.mouseMultiplier,r.deltaY*=s.mouseMultiplier,e._notify(t)},this._onMouseWheel=function(t){var s=i(e,d)[d];s.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,s.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,e._notify(t)},this._onTouchStart=function(t){var s=t.targetTouches?t.targetTouches[0]:t;i(e,u)[u].x=s.pageX,i(e,u)[u].y=s.pageY},this._onTouchMove=function(t){var s=i(e,o)[o];s.preventTouch&&!t.target.classList.contains(s.unpreventTouchClass)&&t.preventDefault();var r=i(e,d)[d],n=t.targetTouches?t.targetTouches[0]:t;r.deltaX=(n.pageX-i(e,u)[u].x)*s.touchMultiplier,r.deltaY=(n.pageY-i(e,u)[u].y)*s.touchMultiplier,i(e,u)[u].x=n.pageX,i(e,u)[u].y=n.pageY,e._notify(t)},this._onKeyDown=function(t){var s=i(e,d)[d];s.deltaX=s.deltaY=0;var r=window.innerHeight-40;switch(t.keyCode){case 37:case 38:s.deltaY=i(e,o)[o].keyStep;break;case 39:case 40:s.deltaY=-i(e,o)[o].keyStep;break;case 32:s.deltaY=r*(t.shiftKey?1:-1);break;default:return}e._notify(t)},i(this,l)[l]=window,t&&t.el&&(i(this,l)[l]=t.el,delete t.el),n||(n={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in document,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}),i(this,o)[o]=Object.assign({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",useKeyboard:!0,useTouch:!0},t),i(this,h)[h]=new r,i(this,d)[d]={y:0,x:0,deltaX:0,deltaY:0},i(this,u)[u]={x:null,y:null},i(this,p)[p]=null,void 0!==i(this,o)[o].passive&&(this.listenerOptions={passive:i(this,o)[o].passive})}

var s={"./_map.svg":1910,"./arrow-down.svg":7190,"./arrow.svg":8073,"./back-white.svg":3173,"./back.svg":1925,"./cart.svg":933,"./check_icon.svg":3182,"./clock.svg":5316,"./close-x.svg":6641,"./close.svg":4167,"./download.svg":8113,"./facebook.svg":7430,"./fingerprint-1.png":7510,"./fingerprint-2.png":4390,"./fingerprint-3.png":9613,"./fingerprint-4.png":2273,"./fingerprint.svg":3495,"./instagram.svg":4048,"./linkedin.svg":2199,"./logo.svg":1937,"./map.svg":8150,"./noise.jpg":1940,"./price.svg":7687,"./swipe.svg":4980,"./twitter.svg":116,"./zoom.svg":7183}

class l{constructor(t){this.type="Scene",t&&"Renderer"===t.type?t.gl||n(this.type+": Renderer WebGL context is undefined",t):n(this.type+": Renderer not passed as first argument",t),this.renderer=t,this.gl=t.gl,this.initStacks()}initStacks(){this.stacks={pingPong:[],renderTargets:[],opaque:[],transparent:[],renderPasses:[],scenePasses:[]}}resetPlaneStacks(){this.stacks.pingPong=[],this.stacks.renderTargets=[],this.stacks.opaque=[],this.stacks.transparent=[];for(let t=0;t<this.renderer.planes.length;t++)this.addPlane(this.renderer.planes[t])}resetShaderPassStacks(){this.stacks.scenePasses=[],this.stacks.renderPasses=[];for(let t=0;t<this.renderer.shaderPasses.length;t++)this.renderer.shaderPasses[t].index=t,this.renderer.shaderPasses[t]._isScenePass?this.stacks.scenePasses.push(this.renderer.shaderPasses[t]):this.stacks.renderPasses.push(this.renderer.shaderPasses[t]);0===this.stacks.scenePasses.length&&(this.renderer.state.scenePassIndex=null)}addToRenderTargetsStack(t){let e=this.renderer.planes.filter(e=>"PingPongPlane"!==e.type&&e.target&&e.uuid!==t.uuid),i=-1;if(t.target._depth){for(let s=e.length-1;s>=0;s--)if(e[s].target.uuid===t.target.uuid){i=s+1;break}}else i=e.findIndex(e=>e.target.uuid===t.target.uuid);i=Math.max(0,i),e.splice(i,0,t),t.target._depth?(e.sort((t,e)=>t.index-e.index),e.sort((t,e)=>e.renderOrder-t.renderOrder)):(e.sort((t,e)=>e.index-t.index),e.sort((t,e)=>t.renderOrder-e.renderOrder)),e.sort((t,e)=>t.target.index-e.target.index),this.stacks.renderTargets=e}addToRegularPlaneStack(t){let e=this.renderer.planes.filter(e=>"PingPongPlane"!==e.type&&!e.target&&e._transparent===t._transparent&&e.uuid!==t.uuid),i=-1;if(t.shareProgram){for(let s=e.length-1;s>=0;s--)if(e[s]._program.id===t._program.id){i=s+1;break}}else for(let r=e.length-1;r>=0;r--)if(e[r]._geometry.definition.id===t._geometry.definition.id){i=r+1;break}return i=Math.max(0,i),e.splice(i,0,t),e.sort((t,e)=>t.index-e.index),t.shareProgram&&e.sort((t,e)=>t._program.id-e._program.id),e}addPlane(t){if("PingPongPlane"===t.type)this.stacks.pingPong.push(t);else if(t.target)this.addToRenderTargetsStack(t);else if(t._transparent){let e=this.addToRegularPlaneStack(t);e.sort((t,e)=>e.relativeTranslation.z-t.relativeTranslation.z),e.sort((t,e)=>e.renderOrder-t.renderOrder),this.stacks.transparent=e}else{let i=this.addToRegularPlaneStack(t);i.sort((t,e)=>e.renderOrder-t.renderOrder),this.stacks.opaque=i}}removePlane(t){"PingPongPlane"===t.type?this.stacks.pingPong=this.stacks.pingPong.filter(e=>e.uuid!==t.uuid):t.target?this.stacks.renderTargets=this.stacks.renderTargets.filter(e=>e.uuid!==t.uuid):t._transparent?this.stacks.transparent=this.stacks.transparent.filter(e=>e.uuid!==t.uuid):this.stacks.opaque=this.stacks.opaque.filter(e=>e.uuid!==t.uuid)}setPlaneRenderOrder(t){if("ShaderPass"===t.type)this.sortShaderPassStack(t._isScenePass?this.stacks.scenePasses:this.stacks.renderPasses);else if("PingPongPlane"===t.type)return;if(t.target)t.target._depth?(this.stacks.renderTargets.sort((t,e)=>t.index-e.index),this.stacks.renderTargets.sort((t,e)=>e.renderOrder-t.renderOrder)):(this.stacks.renderTargets.sort((t,e)=>e.index-t.index),this.stacks.renderTargets.sort((t,e)=>t.renderOrder-e.renderOrder)),this.stacks.renderTargets.sort((t,e)=>t.target.index-e.target.index);else{let e=t._transparent?this.stacks.transparent:this.stacks.opaque,i=this.stacks.scenePasses.find((t,e)=>t._isScenePass&&!t._depth&&0===e);!this.renderer.depth||i?(e.sort((t,e)=>e.index-t.index),t._transparent&&e.sort((t,e)=>t.relativeTranslation.z-e.relativeTranslation.z),e.sort((t,e)=>t.renderOrder-e.renderOrder)):(e.sort((t,e)=>t.index-e.index),t._transparent&&e.sort((t,e)=>e.relativeTranslation.z-t.relativeTranslation.z),e.sort((t,e)=>e.renderOrder-t.renderOrder))}}addShaderPass(t){t._isScenePass?(this.stacks.scenePasses.push(t),this.sortShaderPassStack(this.stacks.scenePasses)):(this.stacks.renderPasses.push(t),this.sortShaderPassStack(this.stacks.renderPasses))}removeShaderPass(t){this.resetShaderPassStacks()}sortShaderPassStack(t){t.sort((t,e)=>t.index-e.index),t.sort((t,e)=>t.renderOrder-e.renderOrder)}enableShaderPass(){this.stacks.scenePasses.length&&0===this.stacks.renderPasses.length&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target))}drawRenderPasses(){this.stacks.scenePasses.length&&this.stacks.renderPasses.length&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target));for(let t=0;t<this.stacks.renderPasses.length;t++)this.stacks.renderPasses[t]._startDrawing(),this.renderer.clearDepth()}drawScenePasses(){for(let t=0;t<this.stacks.scenePasses.length;t++)this.stacks.scenePasses[t]._startDrawing()}drawPingPongStack(){for(let t=0;t<this.stacks.pingPong.length;t++){let e=this.stacks.pingPong[t];e&&e._startDrawing()}}drawStack(t){for(let e=0;e<this.stacks[t].length;e++){let i=this.stacks[t][e];i&&i._startDrawing()}}draw(){this.drawPingPongStack(),this.enableShaderPass(),this.drawStack("renderTargets"),this.drawRenderPasses(),this.drawStack("transparent"),this.drawStack("opaque"),this.drawScenePasses()}}

class h{constructor(){this.geometries=[],this.clear()}clear(){this.textures=[],this.programs=[]}getGeometryFromID(t){return this.geometries.find(e=>e.id===t)}addGeometry(t,e,i){this.geometries.push({id:t,vertices:e,uvs:i})}isSameShader(t,e){return 0===t.localeCompare(e)}getProgramFromShaders(t,e){return this.programs.find(i=>this.isSameShader(i.vsCode,t)&&this.isSameShader(i.fsCode,e))}addProgram(t){this.programs.push(t)}getTextureFromSource(t){return this.textures.find(e=>e.source&&e.source.src===t.src&&e.uuid!=e.uuid)}addTexture(t){this.getTextureFromSource(t.source)||this.textures.push(t)}removeTexture(t){this.textures=this.textures.filter(e=>e.uuid!==t.uuid)}}

function s(t){let e=0;for(;t&&!isNaN(t.offsetTop);)e+=t.offsetTop-t.scrollTop,t=t.offsetParent;return e}

class p{constructor({xOffset:t=0,yOffset:e=0,lastXDelta:i=0,lastYDelta:s=0,shouldWatch:r=!0,onScroll:n=()=>{}}={}){this.xOffset=t,this.yOffset=e,this.lastXDelta=i,this.lastYDelta=s,this.shouldWatch=r,this.onScroll=n,this.handler=this.scroll.bind(this,!0),this.shouldWatch&&window.

class c{constructor({container:t,alpha:e=!0,premultipliedAlpha:i=!1,antialias:s=!0,depth:n=!0,failIfMajorPerformanceCaveat:a=!0,preserveDrawingBuffer:o=!1,stencil:l=!1,autoResize:h=!0,autoRender:d=!0,watchScroll:u=!0,pixelRatio:p=window.devicePixelRatio||1,renderingScale:c=1,production:f=!1}={}){this.type="Curtains",this._autoResize=h,this._autoRender=d,this._watchScroll=u,this.pixelRatio=p,c=isNaN(c)?1:parseFloat(c),this._renderingScale=Math.max(.25,Math.min(1,c)),this.premultipliedAlpha=i,this.alpha=e,this.antialias=s,this.depth=n,this.failIfMajorPerformanceCaveat=a,this.preserveDrawingBuffer=o,this.stencil=l,this.production=f,this.errors=!1,t?this.setContainer(t):this.production||r(this.type+": no container provided in the initial parameters. Use setContainer() method to set one later and initialize the WebGL context")}setContainer(t){if(t){if("string"==typeof t){if(t=document.getElementById(t))this.container=t;else{let e=document.createElement("div");e.setAttribute("id","curtains-canvas"),document.body.appendChild(e),this.container=e,this.production||r('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}}else t instanceof Element&&(this.container=t)}else{let i=document.createElement("div");i.setAttribute("id","curtains-canvas"),document.body.appendChild(i),this.container=i,this.production||r('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}this._initCurtains()}_initCurtains(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this._initRenderer(),this.gl&&(this._initScroll(),this._setSize(),this._addListeners(),this.container.appendChild(this.canvas),console.log("curtains.js - v7.3"),this._animationFrameID=null,this._autoRender&&this._animate())}_initRenderer(){this.renderer=new u({alpha:this.alpha,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil,container:this.container,pixelRatio:this.pixelRatio,renderingScale:this._renderingScale,production:this.production,onError:()=>this._onRendererError(),onContextLost:()=>this._onRendererContextLost(),onContextRestored:()=>this._onRendererContextRestored(),onDisposed:()=>this._onRendererDisposed(),onSceneChange:()=>this._keepSync()}),this.gl=this.renderer.gl,this.canvas=this.renderer.canvas}restoreContext(){this.renderer.restoreContext()}_animate(){this.render(),this._animationFrameID=window.requestAnimationFrame(this._animate.bind(this))}enableDrawing(){this.renderer.enableDrawing()}disableDrawing(){this.renderer.disableDrawing()}needRender(){this.renderer.needRender()}nextRender(t){this.renderer.nextRender.add(t)}clear(){this.renderer&&this.renderer.clear()}clearDepth(){this.renderer&&this.renderer.clearDepth()}clearColor(){this.renderer&&this.renderer.clearColor()}isWebGL2(){return!!this.gl&&this.renderer._isWebGL2}render(){this.renderer.nextRender.execute(),(this.renderer.state.drawingEnabled||this.renderer.state.forceRender)&&(this.renderer.state.forceRender&&(this.renderer.state.forceRender=!1),this._onRenderCallback&&this._onRenderCallback(),this.renderer.render())}_addListeners(){this._resizeHandler=null,this._autoResize&&(this._resizeHandler=this.resize.bind(this,!0),window.

class E{constructor(t,{isFBOTexture:e=!1,fromTexture:i=!1,loader:s,sampler:r,floatingPoint:o="none",premultiplyAlpha:l=!1,anisotropy:h=1,generateMipmap:d=null,wrapS:u,wrapT:p,minFilter:c,magFilter:f}={}){if(this.type="Texture",(t=t&&t.renderer||t)&&"Renderer"===t.type?t.gl||n(this.type+": Renderer WebGL context is undefined",t):n(this.type+": Renderer not passed as first argument",t),this.renderer=t,this.gl=this.renderer.gl,this.uuid=a(),this._globalParameters={unpackAlignment:4,flipY:!e,premultiplyAlpha:l,floatingPoint:o,type:this.gl.UNSIGNED_BYTE,internalFormat:this.gl.RGBA,format:this.gl.RGBA},this.parameters={anisotropy:h,generateMipmap:d,wrapS:u||this.gl.CLAMP_TO_EDGE,wrapT:p||this.gl.CLAMP_TO_EDGE,minFilter:c||this.gl.LINEAR,magFilter:f||this.gl.LINEAR,_shouldUpdate:!0},this._initState(),this.sourceType=e?"fbo":"empty",this._samplerName=r,this._sampler={isActive:!1},this._textureMatrix={matrix:new T},this._size={width:0,height:0},this.scale=new C(1,1),this.offset=new C,this._loader=s,this._sourceLoaded=!1,this._uploaded=!1,this._willUpdate=!1,this.shouldUpdate=!1,this._forceUpdate=!1,this.userData={},this._canDraw=!1,i)return this._copyOnInit=!0,void(this._copiedFrom=i);this._copyOnInit=!1,this._initTexture()}_initState(){this._state={anisotropy:1,generateMipmap:!1,wrapS:null,wrapT:null,minFilter:null,magFilter:this.gl.LINEAR}}_initTexture(){this._sampler.texture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),"empty"===this.sourceType&&(this._globalParameters.flipY=!1,this._updateGlobalTexParameters(),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),this._canDraw=!0)}_restoreFromTexture(){this._copyOnInit||this._initTexture(),this._parent&&(this._setTextureUniforms(),this._setSize()),this.copy(this._copiedFrom),this._canDraw=!0}_restoreContext(){if(this._canDraw=!1,this._sampler.isActive=!1,this._initState(),this._state.generateMipmap=!1,this.parameters._shouldUpdate=!0,this._copiedFrom){let t=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&(this._restoreFromTexture(),t.keep=!1)},!0)}else this._initTexture(),this._parent&&this._setParent(),this.source&&(this.setSource(this.source),"image"===this.sourceType?this.renderer.cache.addTexture(this):this.needUpdate()),this._canDraw=!0}addParent(t){t&&("Plane"===t.type||"PingPongPlane"===t.type||"ShaderPass"===t.type||"RenderTarget"===t.type)?(this._parent=t,this.index=this._parent.textures.length,this._parent.textures.push(this),this._setParent()):this.renderer.production||r(this.type+": cannot add texture as a child of ",t," because it is not a valid parent")}_setParent(){if(this._sampler.name=this._samplerName||"uSampler"+this.index,this._textureMatrix.name=this._samplerName?this._samplerName+"Matrix":"uTextureMatrix"+this.index,this._parent._program){if(!this._parent._program.compiled)return void(this.renderer.production||r(this.type+": Unable to create the texture because the program is not valid"));if(this._setTextureUniforms(),this._copyOnInit){this._copiedFrom._sampler.texture||(this._sampler.texture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture));let t=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&(this.copy(this._copiedFrom),t.keep=!1)},!0);return}this.source?this._parent.loader&&this._parent.loader._addSourceToParent(this.source,this.sourceType):this._size={width:this._parent._boundingRect.document.width,height:this._parent._boundingRect.document.height},this._setSize()}else"RenderTarget"===this._parent.type&&(this._size={width:this._parent._size&&this._parent._size.width||this.renderer._boundingRect.width,height:this._parent._size&&this._parent._size.height||this.renderer._boundingRect.height},this._upload(),this._updateTexParameters(),this._canDraw=!0)}hasParent(){return!!this._parent}_setTextureUniforms(){for(let t=0;t<this._parent._program.activeTextures.length;t++)this._parent._program.activeTextures[t]===this._sampler.name&&(this._sampler.isActive=!0,this.renderer.useProgram(this._parent._program),this._sampler.location=this.gl.getUniformLocation(this._parent._program.program,this._sampler.name),this._textureMatrix.location=this.gl.getUniformLocation(this._parent._program.program,this._textureMatrix.name),this.gl.uniform1i(this._sampler.location,this.index))}copy(t){t&&"Texture"===t.type?(this._globalParameters=t._globalParameters,this.parameters=t.parameters,this._state=t._state,this._size=t._size,!this._sourceLoaded&&t._sourceLoaded&&this._onSourceLoadedCallback&&this._onSourceLoadedCallback(),this._sourceLoaded=t._sourceLoaded,!this._uploaded&&t._uploaded&&this._onSourceUploadedCallback&&this._onSourceUploadedCallback(),this._uploaded=t._uploaded,this.sourceType=t.sourceType,this.source=t.source,this._videoFrameCallbackID=t._videoFrameCallbackID,this._sampler.texture=t._sampler.texture,this._copiedFrom=t,!this._parent||!this._parent._program||this._canDraw&&this._textureMatrix.matrix||(this._setSize(),this._canDraw=!0),this.renderer.needRender()):this.renderer.production||r(this.type+": Unable to set the texture from texture:",t)}setSource(t){this._sourceLoaded||this.renderer.nextRender.add(()=>this._onSourceLoadedCallback&&this._onSourceLoadedCallback());let e=this.renderer.cache.getTextureFromSource(t);if(e)return this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0),this.copy(e),void this.resize();this.source=t,"empty"===this.sourceType&&("IMG"===t.tagName.toUpperCase()?this.sourceType="image":"VIDEO"===t.tagName.toUpperCase()?(this.sourceType="video",this.shouldUpdate=!0):"CANVAS"===t.tagName.toUpperCase()?(this.sourceType="canvas",this._willUpdate=!0,this.shouldUpdate=!0):this.renderer.production||r(this.type+": this HTML tag could not be converted into a texture:",t.tagName)),this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight},this._sourceLoaded=!0,this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.resize(),this._globalParameters.flipY=!0,"image"===this.sourceType&&(this.parameters.generateMipmap=this.parameters.generateMipmap||null===this.parameters.generateMipmap,this.parameters._shouldUpdate=this.parameters.generateMipmap,this._state.generateMipmap=!1,this._upload()),this.renderer.needRender()}_updateGlobalTexParameters(){this.renderer.state.unpackAlignment!==this._globalParameters.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this._globalParameters.unpackAlignment),this.renderer.state.unpackAlignment=this._globalParameters.unpackAlignment),this.renderer.state.flipY!==this._globalParameters.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this._globalParameters.flipY),this.renderer.state.flipY=this._globalParameters.flipY),this.renderer.state.premultiplyAlpha!==this._globalParameters.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._globalParameters.premultiplyAlpha),this.renderer.state.premultiplyAlpha=this._globalParameters.premultiplyAlpha),"half-float"===this._globalParameters.floatingPoint?this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.HALF_FLOAT):this.renderer.extensions.OES_texture_half_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES:this.renderer.production||r(this.type+": could not use half-float textures because the extension is not available"):"float"===this._globalParameters.floatingPoint&&(this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.FLOAT):this.renderer.extensions.OES_texture_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.FLOAT:this.renderer.production||r(this.type+": could not use float textures because the extension is not available"))}_updateTexParameters(){this.index&&this.renderer.state.activeTexture!==this.index&&this._bindTexture(this),this.parameters.wrapS!==this._state.wrapS&&(this.renderer._isWebGL2||o(this._size.width)&&o(this._size.height)||(this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.parameters.wrapS!==this.gl.REPEAT&&this.parameters.wrapS!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapS!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||r(this.type+": Wrong wrapS value",this.parameters.wrapS,"for this texture:",this,"\ngl.CLAMP_TO_EDGE wrapping will be used instead"),this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.parameters.wrapS),this._state.wrapS=this.parameters.wrapS),this.parameters.wrapT!==this._state.wrapT&&(this.renderer._isWebGL2||o(this._size.width)&&o(this._size.height)||(this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.parameters.wrapT!==this.gl.REPEAT&&this.parameters.wrapT!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapT!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||r(this.type+": Wrong wrapT value",this.parameters.wrapT,"for this texture:",this,"\ngl.CLAMP_TO_EDGE wrapping will be used instead"),this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.parameters.wrapT),this._state.wrapT=this.parameters.wrapT),this.parameters.generateMipmap&&!this._state.generateMipmap&&this.source&&(this.renderer._isWebGL2||o(this._size.width)&&o(this._size.height)?this.gl.generateMipmap(this.gl.TEXTURE_2D):this.parameters.generateMipmap=!1,this._state.generateMipmap=this.parameters.generateMipmap),this.parameters.minFilter!==this._state.minFilter&&(this.renderer._isWebGL2||o(this._size.width)&&o(this._size.height)||(this.parameters.minFilter=this.gl.LINEAR),this.parameters.generateMipmap||null===this.parameters.generateMipmap||(this.parameters.minFilter=this.gl.LINEAR),this.parameters.minFilter!==this.gl.LINEAR&&this.parameters.minFilter!==this.gl.NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_LINEAR&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_LINEAR&&(this.renderer.production||r(this.type+": Wrong minFilter value",this.parameters.minFilter,"for this texture:",this,"\ngl.LINEAR filtering will be used instead"),this.parameters.minFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.parameters.minFilter),this._state.minFilter=this.parameters.minFilter),this.parameters.magFilter!==this._state.magFilter&&(this.renderer._isWebGL2||o(this._size.width)&&o(this._size.height)||(this.parameters.magFilter=this.gl.LINEAR),this.parameters.magFilter!==this.gl.LINEAR&&this.parameters.magFilter!==this.gl.NEAREST&&(this.renderer.production||r(this.type+": Wrong magFilter value",this.parameters.magFilter,"for this texture:",this,"\ngl.LINEAR filtering will be used instead"),this.parameters.magFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.parameters.magFilter),this._state.magFilter=this.parameters.magFilter);let t=this.renderer.extensions.EXT_texture_filter_anisotropic;if(t&&this.parameters.anisotropy!==this._state.anisotropy){let e=this.gl.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.parameters.anisotropy=Math.max(1,Math.min(this.parameters.anisotropy,e)),this.gl.texParameterf(this.gl.TEXTURE_2D,t.TEXTURE_MAX_ANISOTROPY_EXT,this.parameters.anisotropy),this._state.anisotropy=this.parameters.anisotropy}}setWrapS(t){this.parameters.wrapS!==t&&(this.parameters.wrapS=t,this.parameters._shouldUpdate=!0)}setWrapT(t){this.parameters.wrapT!==t&&(this.parameters.wrapT=t,this.parameters._shouldUpdate=!0)}setMinFilter(t){this.parameters.minFilter!==t&&(this.parameters.minFilter=t,this.parameters._shouldUpdate=!0)}setMagFilter(t){this.parameters.magFilter!==t&&(this.parameters.magFilter=t,this.parameters._shouldUpdate=!0)}setAnisotropy(t){t=isNaN(t)?this.parameters.anisotropy:t,this.parameters.anisotropy!==t&&(this.parameters.anisotropy=t,this.parameters._shouldUpdate=!0)}needUpdate(){this._forceUpdate=!0}_videoFrameCallback(){this._willUpdate=!0,this.source.requestVideoFrameCallback(()=>this._videoFrameCallback())}_upload(){this._updateGlobalTexParameters(),this.source?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._globalParameters.format,this._globalParameters.type,this.source):"fbo"===this.sourceType&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,this.source),this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0)}_getSizes(){if("fbo"===this.sourceType)return{parentWidth:this._parent._boundingRect.document.width,parentHeight:this._parent._boundingRect.document.height,sourceWidth:this._parent._boundingRect.document.width,sourceHeight:this._parent._boundingRect.document.height,xOffset:0,yOffset:0};let t=this._parent.scale?new C(this._parent.scale.x,this._parent.scale.y):new C(1,1),e=this._parent._boundingRect.document.width*t.x,i=this._parent._boundingRect.document.height*t.y,s=this._size.width,r=this._size.height,n=s/r,a=e/i,o=0,l=0;return a>n?l=Math.min(0,i-e*(1/n)):a<n&&(o=Math.min(0,e-i*n)),{parentWidth:e,parentHeight:i,sourceWidth:s,sourceHeight:r,xOffset:o,yOffset:l}}setScale(t){t.type&&"Vec2"===t.type?(t.sanitizeNaNValuesWith(this.scale).max(new C(.001,.001)),t.equals(this.scale)||(this.scale.copy(t),this.resize())):this.renderer.production||r(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",t)}setOffset(t){t.type&&"Vec2"===t.type?(t.sanitizeNaNValuesWith(this.offset),t.equals(this.offset)||(this.offset.copy(t),this.resize())):this.renderer.production||r(this.type+": Cannot set offset because the parameter passed is not of Vec2 type:",scale)}_setSize(){if(this._parent&&this._parent._program){let t=this._getSizes();this._updateTextureMatrix(t)}}resize(){"fbo"===this.sourceType?(this._size={width:this._parent._size&&this._parent._size.width||this._parent._boundingRect.document.width,height:this._parent._size&&this._parent._size.height||this._parent._boundingRect.document.height},this._copiedFrom||(this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,null))):this.source&&(this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight}),this._setSize()}_updateTextureMatrix(t){let e=new S(t.parentWidth/(t.parentWidth-t.xOffset),t.parentHeight/(t.parentHeight-t.yOffset),1);e.x/=this.scale.x,e.y/=this.scale.y;let i=new T([1,0,0,0,0,1,0,0,0,0,1,0,(1-e.x)/2+this.offset.x,(1-e.y)/2+this.offset.y,0,1]);this._textureMatrix.matrix=i.scale(e),this._updateMatrixUniform()}_updateMatrixUniform(){this.renderer.useProgram(this._parent._program),this.gl.uniformMatrix4fv(this._textureMatrix.location,!1,this._textureMatrix.matrix.elements)}_onSourceLoaded(t){this.setSource(t),"image"===this.sourceType&&this.renderer.cache.addTexture(this)}_bindTexture(){this._canDraw&&(this.renderer.state.activeTexture!==this.index&&(this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.renderer.state.activeTexture=this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture))}_draw(){this._sampler.isActive&&(this._bindTexture(this),"video"===this.sourceType&&this.source&&!this._videoFrameCallbackID&&this.source.readyState>=this.source.HAVE_CURRENT_DATA&&!this.source.paused&&(this._willUpdate=!0),(this._forceUpdate||this._willUpdate&&this.shouldUpdate)&&(this._state.generateMipmap=!1,this._upload()),"video"===this.sourceType&&(this._willUpdate=!1),this._forceUpdate=!1,this._parent&&this._parent.shareProgram&&this._updateMatrixUniform()),this.parameters._shouldUpdate&&(this._updateTexParameters(),this.parameters._shouldUpdate=!1)}onSourceLoaded(t){return t&&(this._onSourceLoadedCallback=t),this}onSourceUploaded(t){return t&&(this._onSourceUploadedCallback=t),this}_dispose(t=!1){"video"!==this.sourceType&&("image"!==this.sourceType||this.renderer.state.isActive)?"canvas"===this.sourceType&&(this.source.width=this.source.width,this.source=null):(this._loader&&this._loader._removeSource(this),this.source=null),this._parent=null,this.gl&&!this._copiedFrom&&(t||"image"!==this.sourceType||!this.renderer.state.isActive)&&(this._canDraw=!1,this.renderer.cache.removeTexture(this),this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this.gl.deleteTexture(this._sampler.texture))}}

class A{constructor(t,e="Mesh",{shareProgram:i=!1,vertexShaderID:s,fragmentShaderID:r,vertexShader:a,fragmentShader:o,uniforms:l={},widthSegments:h=1,heightSegments:d=1,renderOrder:u,depthTest:p=!0,cullFace:c="back",texturesOptions:f={},crossOrigin:m="anonymous"}={}){this.type=e,(t=t&&t.renderer||t)&&"Renderer"===t.type||(n(this.type+": Curtains not passed as first argument or Curtains Renderer is missing",t),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0)),this.renderer=t,this.gl=this.renderer.gl,this.gl||(this.renderer.production||n(this.type+": Unable to create a "+this.type+" because the Renderer WebGl context is not defined"),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0)),this._canDraw=!1,this.renderOrder=u,this.shareProgram=i,this._depthTest=p,this.cullFace=c,"back"!==this.cullFace&&"front"!==this.cullFace&&"none"!==this.cullFace&&(this.cullFace="back"),this.textures=[],f=Object.assign({premultiplyAlpha:!1,anisotropy:1,floatingPoint:"none",wrapS:this.gl.CLAMP_TO_EDGE,wrapT:this.gl.CLAMP_TO_EDGE,minFilter:this.gl.LINEAR,magFilter:this.gl.LINEAR},f),this._texturesOptions=f,this.crossOrigin=m,!a&&s&&document.getElementById(s)&&(a=document.getElementById(s).innerHTML),!o&&r&&document.getElementById(r)&&(o=document.getElementById(r).innerHTML),this._initMesh(),h=parseInt(h),d=parseInt(d),this._geometry=new w(this.renderer,{width:h,height:d}),this._program=new b(this.renderer,{parent:this,vertexShader:a,fragmentShader:o}),this._program.compiled?(this._program.createUniforms(l),this.uniforms=this._program.uniformsManager.uniforms,this._geometry.setProgram(this._program),this.renderer.onSceneChange()):this.renderer.nextRender.add(()=>this._onErrorCallback&&this._onErrorCallback())}_initMesh(){this.uuid=a(),this.loader=new k(this.renderer,this,{sourcesLoaded:0,initSourcesToLoad:0,complete:!1,onComplete:()=>{this._onReadyCallback&&this._onReadyCallback(),this.renderer.needRender()}}),this.images=[],this.videos=[],this.canvases=[],this.userData={},this._canDraw=!0}_restoreContext(){this._canDraw=!1,this._matrices&&(this._matrices=null),this._program=new b(this.renderer,{parent:this,vertexShader:this._program.vsCode,fragmentShader:this._program.fsCode}),this._program.compiled&&(this._geometry.restoreContext(this._program),this._program.createUniforms(this.uniforms),this.uniforms=this._program.uniformsManager.uniforms,this._programRestored())}setRenderTarget(t){t&&"RenderTarget"===t.type?("Plane"===this.type&&this.renderer.scene.removePlane(this),this.target=t,"Plane"===this.type&&this.renderer.scene.addPlane(this)):this.renderer.production||r(this.type+": Could not set the render target because the argument passed is not a RenderTarget 

class object",t)}setRenderOrder(t=0){(t=isNaN(t)?this.renderOrder:parseInt(t))!==this.renderOrder&&(this.renderOrder=t,this.renderer.scene.setPlaneRenderOrder(this))}createTexture(t={}){let e=new E(this.renderer,Object.assign(this._texturesOptions,t));return e.addParent(this),e}addTexture(t){t&&"Texture"===t.type?t.addParent(this):this.renderer.production||r(this.type+": cannot add ",t," to this "+this.type+" because it is not a valid texture")}loadSources(t,e={},i,s){for(let r=0;r<t.length;r++)this.loadSource(t[r],e,i,s)}loadSource(t,e={},i,s){this.loader.loadSource(t,Object.assign(this._texturesOptions,e),t=>{i&&i(t)},(t,e)=>{this.renderer.production||r(this.type+": this HTML tag could not be converted into a texture:",t.tagName),s&&s(t,e)})}loadImage(t,e={},i,s){this.loader.loadImage(t,Object.assign(this._texturesOptions,e),t=>{i&&i(t)},(t,e)=>{this.renderer.production||r(this.type+": There has been an error:\n",e,"\nwhile loading this image:\n",t),s&&s(t,e)})}loadVideo(t,e={},i,s){this.loader.loadVideo(t,Object.assign(this._texturesOptions,e),t=>{i&&i(t)},(t,e)=>{this.renderer.production||r(this.type+": There has been an error:\n",e,"\nwhile loading this video:\n",t),s&&s(t,e)})}loadCanvas(t,e={},i){this.loader.loadCanvas(t,Object.assign(this._texturesOptions,e),t=>{i&&i(t)})}loadImages(t,e={},i,s){for(let r=0;r<t.length;r++)this.loadImage(t[r],e,i,s)}loadVideos(t,e={},i,s){for(let r=0;r<t.length;r++)this.loadVideo(t[r],e,i,s)}loadCanvases(t,e={},i){for(let s=0;s<t.length;s++)this.loadCanvas(t[s],e,i)}playVideos(){for(let t=0;t<this.textures.length;t++){let e=this.textures[t];if("video"===e.sourceType){let i=e.source.play();void 0!==i&&i.catch(t=>{this.renderer.production||r(this.type+": Could not play the video : ",t)})}}}_draw(){this.renderer.setDepth(this._depthTest),this.renderer.setFaceCulling(this.cullFace),this._program.updateUniforms(),this._geometry.bindBuffers(),this.renderer.state.forceBufferUpdate=!1;for(let t=0;t<this.textures.length;t++)this.textures[t]._draw();this._geometry.draw(),this.renderer.state.activeTexture=null,this._onAfterRenderCallback&&this._onAfterRenderCallback()}onError(t){return t&&(this._onErrorCallback=t),this}onLoading(t){return t&&(this._onLoadingCallback=t),this}onReady(t){return t&&(this._onReadyCallback=t),this}onRender(t){return t&&(this._onRenderCallback=t),this}onAfterRender(t){return t&&(this._onAfterRenderCallback=t),this}remove(){this._canDraw=!1,this.target&&this.renderer.bindFrameBuffer(null),this._dispose(),"Plane"===this.type?this.renderer.removePlane(this):"ShaderPass"===this.type&&(this.target&&(this.target._shaderPass=null,this.target.remove(),this.target=null),this.renderer.removeShaderPass(this))}_dispose(){if(this.gl){this._geometry&&this._geometry.dispose(),this.target&&"ShaderPass"===this.type&&(this.renderer.removeRenderTarget(this.target),this.textures.shift());for(let t=0;t<this.textures.length;t++)this.textures[t]._dispose();this.textures=null}}}

class L extends D{constructor(t,e,{shareProgram:i,widthSegments:s,heightSegments:r,renderOrder:n=0,depthTest:a,cullFace:o,uniforms:l,vertexShaderID:h,fragmentShaderID:d,vertexShader:u,fragmentShader:p,texturesOptions:c,crossOrigin:f,alwaysDraw:m=!1,visible:g=!0,transparent:$=!1,drawCheckMargins:v={top:0,right:0,bottom:0,left:0},autoloadSources:_=!0,watchScroll:y=!0,fov:x=50}={}){super(t,e,"Plane",{shareProgram:i,widthSegments:s,heightSegments:r,renderOrder:n,depthTest:a,cullFace:o,uniforms:l,vertexShaderID:h,fragmentShaderID:d,vertexShader:u,fragmentShader:p,texturesOptions:c,crossOrigin:f}),this.index=this.renderer.planes.length,this.target=null,this.alwaysDraw=m,this._shouldDraw=!0,this.visible=g,this._transparent=$,this.drawCheckMargins=v,this.autoloadSources=_,this.watchScroll=y,this._updateMVMatrix=!1,this.camera=new M({fov:x,width:this.renderer._boundingRect.width,height:this.renderer._boundingRect.height,pixelRatio:this.renderer.pixelRatio}),this._program.compiled&&(this._initPlane(),this.renderer.scene.addPlane(this),this.renderer.planes.push(this))}_programRestored(){this.target&&this.setRenderTarget(this.renderer.renderTargets[this.target.index]),this._initMatrices(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._applyWorldPositions(),this.renderer.scene.addPlane(this);for(let t=0;t<this.textures.length;t++)this.textures[t]._parent=this,this.textures[t]._restoreContext();this._canDraw=!0}_initPlane(){this._initTransformValues(),this._initPositions(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._initSources()}_initTransformValues(){this.rotation=new S,this.quaternion=new I,this.relativeTranslation=new S,this._translation=new S,this.scale=new S(1,1,1),this.transformOrigin=new S(.5,.5,0)}resetPlane(t){this._initTransformValues(),null!==t&&t?(this.htmlElement=t,this.updatePosition()):t||this.renderer.production||r(this.type+": You are trying to reset a plane with a HTML element that does not exist. The old HTML element will be kept instead.")}removeRenderTarget(){this.target&&(this.renderer.scene.removePlane(this),this.target=null,this.renderer.scene.addPlane(this))}_initPositions(){this._initMatrices(),this._applyWorldPositions()}_initMatrices(){this._matrices={mvMatrix:{name:"uMVMatrix",matrix:new T,location:this.gl.getUniformLocation(this._program.program,"uMVMatrix")},pMatrix:{name:"uPMatrix",matrix:new T,location:this.gl.getUniformLocation(this._program.program,"uPMatrix")}}}_setWorldSizes(){let t=this._boundingRect.document.width/2+this._boundingRect.document.left,e=this._boundingRect.document.height/2+this._boundingRect.document.top,i=this.renderer._boundingRect.width/2+this.renderer._boundingRect.left,s=this.renderer._boundingRect.height/2+this.renderer._boundingRect.top;this._boundingRect.world={width:this._boundingRect.document.width/this.renderer._boundingRect.width,height:this._boundingRect.document.height/this.renderer._boundingRect.height,top:(s-e)/this.renderer._boundingRect.height,left:(t-i)/this.renderer._boundingRect.height},this._boundingRect.world.scale={x:this.renderer._boundingRect.width/this.renderer._boundingRect.height*this._boundingRect.world.width/2,y:this._boundingRect.world.height/2}}_setPerspectiveMatrix(){(this.shareProgram||!this.shareProgram&&this.camera._shouldUpdate)&&(this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.pMatrix.location,!1,this._matrices.pMatrix.matrix.elements)),this.camera.cancelUpdate()}setPerspective(t,e,i){this.camera.setPerspective(t,e,i,this.renderer._boundingRect.width,this.renderer._boundingRect.height,this.renderer.pixelRatio),this.renderer.state.isContextLost&&this.camera.forceUpdate(),this._matrices.pMatrix.matrix=this.camera.projectionMatrix,this._updateMVMatrix=this.camera._shouldUpdate}_setMVMatrix(){if(this._updateMVMatrix){this._translation.z=-(1-this.relativeTranslation.z/this.camera.CSSPerspective)/this.camera.position.z;let t=new S((2*this.transformOrigin.x-1)*this._boundingRect.world.scale.x,-(2*this.transformOrigin.y-1)*this._boundingRect.world.scale.y,this.transformOrigin.z),e=(new T).composeFromOrigin(this._translation,this.quaternion,this.scale,t),i=new T([this._boundingRect.world.scale.x,0,0,0,0,this._boundingRect.world.scale.y,0,0,0,0,1,0,0,0,0,1]);this._matrices.mvMatrix.matrix=e.multiply(i),this._matrices.mVPMatrix=this._matrices.pMatrix.matrix.multiply(this._matrices.mvMatrix.matrix),this.alwaysDraw||this._shouldDrawCheck()}(this.shareProgram||!this.shareProgram&&this._updateMVMatrix)&&(this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.mvMatrix.location,!1,this._matrices.mvMatrix.matrix.elements)),this._updateMVMatrix=!1}setScale(t){if(t.type&&"Vec2"===t.type){if(t.sanitizeNaNValuesWith(this.scale).max(new C(.001,.001)),t.x!==this.scale.x||t.y!==this.scale.y){this.scale.set(t.x,t.y,1);for(let e=0;e<this.textures.length;e++)this.textures[e].resize();this._updateMVMatrix=!0}}else this.renderer.production||r(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",t)}setRotation(t){t.type&&"Vec3"===t.type?(t.sanitizeNaNValuesWith(this.rotation),t.equals(this.rotation)||(this.rotation.copy(t),this.quaternion.setFromVec3(this.rotation),this._updateMVMatrix=!0)):this.renderer.production||r(this.type+": Cannot set rotation because the parameter passed is not of Vec3 type:",t)}setTransformOrigin(t){t.type&&"Vec3"===t.type?(t.sanitizeNaNValuesWith(this.transformOrigin),t.equals(this.transformOrigin)||(this.transformOrigin.copy(t),this._updateMVMatrix=!0)):this.renderer.production||r(this.type+": Cannot set transform origin because the parameter passed is not of Vec3 type:",t)}_setTranslation(){let t=new S;this.relativeTranslation.equals(t)||(t=this._documentToWorldSpace(this.relativeTranslation)),this._translation.set(this._boundingRect.world.left+t.x,this._boundingRect.world.top+t.y,this._translation.z),this._updateMVMatrix=!0}setRelativePosition(t){this.renderer.production||r(this.type+": setRelativePosition() is deprecated, use setRelativeTranslation() instead"),this.setRelativeTranslation(t)}setRelativeTranslation(t){t.type&&"Vec3"===t.type?(t.sanitizeNaNValuesWith(this.relativeTranslation),t.equals(this.relativeTranslation)||(this.relativeTranslation.copy(t),this._setTranslation())):this.renderer.production||r(this.type+": Cannot set translation because the parameter passed is not of Vec3 type:",t)}_documentToWorldSpace(t){return new S(t.x/(this.renderer._boundingRect.width/this.renderer.pixelRatio)*(this.renderer._boundingRect.width/this.renderer._boundingRect.height),-t.y/(this.renderer._boundingRect.height/this.renderer.pixelRatio),t.z)}_getIntersection(t,e){let i=e.clone().sub(t),s=t.clone();for(;s.z>-1;)s.add(i);return s}_getNearPlaneIntersections(t,e,i){if(1===i.length)0===i[0]?(e[0]=this._getIntersection(e[1],new S(.95,1,0).applyMat4(this._matrices.mVPMatrix)),e.push(this._getIntersection(e[3],new S(-1,-.95,0).applyMat4(this._matrices.mVPMatrix)))):1===i[0]?(e[1]=this._getIntersection(e[0],new S(-.95,1,0).applyMat4(this._matrices.mVPMatrix)),e.push(this._getIntersection(e[2],new S(1,-.95,0).applyMat4(this._matrices.mVPMatrix)))):2===i[0]?(e[2]=this._getIntersection(e[3],new S(-.95,-1,0).applyMat4(this._matrices.mVPMatrix)),e.push(this._getIntersection(e[1],new S(1,.95,0).applyMat4(this._matrices.mVPMatrix)))):3===i[0]&&(e[3]=this._getIntersection(e[2],new S(.95,-1,0).applyMat4(this._matrices.mVPMatrix)),e.push(this._getIntersection(e[0],new S(-1,.95,0).applyMat4(this._matrices.mVPMatrix))));else if(2===i.length)0===i[0]&&1===i[1]?(e[0]=this._getIntersection(e[3],new S(-1,-.95,0).applyMat4(this._matrices.mVPMatrix)),e[1]=this._getIntersection(e[2],new S(1,-.95,0).applyMat4(this._matrices.mVPMatrix))):1===i[0]&&2===i[1]?(e[1]=this._getIntersection(e[0],new S(-.95,1,0).applyMat4(this._matrices.mVPMatrix)),e[2]=this._getIntersection(e[3],new S(-.95,-1,0).applyMat4(this._matrices.mVPMatrix))):2===i[0]&&3===i[1]?(e[2]=this._getIntersection(e[1],new S(1,.95,0).applyMat4(this._matrices.mVPMatrix)),e[3]=this._getIntersection(e[0],new S(-1,.95,0).applyMat4(this._matrices.mVPMatrix))):0===i[0]&&3===i[1]&&(e[0]=this._getIntersection(e[1],new S(.95,1,0).applyMat4(this._matrices.mVPMatrix)),e[3]=this._getIntersection(e[2],new S(.95,-1,0).applyMat4(this._matrices.mVPMatrix)));else if(3===i.length){let s=0;for(let r=0;r<t.length;r++)i.includes(r)||(s=r);e=[e[s]],0===s?(e.push(this._getIntersection(e[0],new S(-.95,1,0).applyMat4(this._matrices.mVPMatrix))),e.push(this._getIntersection(e[0],new S(-1,.95,0).applyMat4(this._matrices.mVPMatrix)))):1===s?(e.push(this._getIntersection(e[0],new S(.95,1,0).applyMat4(this._matrices.mVPMatrix))),e.push(this._getIntersection(e[0],new S(1,.95,0).applyMat4(this._matrices.mVPMatrix)))):2===s?(e.push(this._getIntersection(e[0],new S(.95,-1,0).applyMat4(this._matrices.mVPMatrix))),e.push(this._getIntersection(e[0],new S(1,-.95,0).applyMat4(this._matrices.mVPMatrix)))):3===s&&(e.push(this._getIntersection(e[0],new S(-.95,-1,0).applyMat4(this._matrices.mVPMatrix))),e.push(this._getIntersection(e[0],new S(-1.95,0).applyMat4(this._matrices.mVPMatrix))))}else for(let n=0;n<t.length;n++)e[n][0]=1e4,e[n][1]=1e4;return e}_getWorldCoords(){let t=[new S(-1,1,0),new S(1,1,0),new S(1,-1,0),new S(-1,-1,0)],e=[],i=[];for(let s=0;s<t.length;s++){let r=t[s].applyMat4(this._matrices.mVPMatrix);e.push(r),Math.abs(r.z)>1&&i.push(s)}i.length&&(e=this._getNearPlaneIntersections(t,e,i));let n=1/0,a=-1/0,o=1/0,l=-1/0;for(let h=0;h<e.length;h++){let d=e[h];d.x<n&&(n=d.x),d.x>a&&(a=d.x),d.y<o&&(o=d.y),d.y>l&&(l=d.y)}return{top:l,right:a,bottom:o,left:n}}_computeWebGLBoundingRect(){let t=this._getWorldCoords(),e={top:1-(t.top+1)/2,right:(t.right+1)/2,bottom:1-(t.bottom+1)/2,left:(t.left+1)/2};e.width=e.right-e.left,e.height=e.bottom-e.top,this._boundingRect.worldToDocument={width:e.width*this.renderer._boundingRect.width,height:e.height*this.renderer._boundingRect.height,top:e.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top,left:e.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left,right:e.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left+e.width*this.renderer._boundingRect.width,bottom:e.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top+e.height*this.renderer._boundingRect.height}}getWebGLBoundingRect(){return this._matrices.mVPMatrix?(this._boundingRect.worldToDocument&&!this.alwaysDraw||this._computeWebGLBoundingRect(),this._boundingRect.worldToDocument):this._boundingRect.document}_getWebGLDrawRect(){return this._computeWebGLBoundingRect(),{top:this._boundingRect.worldToDocument.top-this.drawCheckMargins.top,right:this._boundingRect.worldToDocument.right+this.drawCheckMargins.right,bottom:this._boundingRect.worldToDocument.bottom+this.drawCheckMargins.bottom,left:this._boundingRect.worldToDocument.left-this.drawCheckMargins.left}}_shouldDrawCheck(){let t=this._getWebGLDrawRect();Math.round(t.right)<=this.renderer._boundingRect.left||Math.round(t.left)>=this.renderer._boundingRect.left+this.renderer._boundingRect.width||Math.round(t.bottom)<=this.renderer._boundingRect.top||Math.round(t.top)>=this.renderer._boundingRect.top+this.renderer._boundingRect.height?this._shouldDraw&&(this._shouldDraw=!1,this.renderer.nextRender.add(()=>this._onLeaveViewCallback&&this._onLeaveViewCallback())):(this._shouldDraw||this.renderer.nextRender.add(()=>this._onReEnterViewCallback&&this._onReEnterViewCallback()),this._shouldDraw=!0)}isDrawn(){return this._canDraw&&this.visible&&(this._shouldDraw||this.alwaysDraw)}_applyWorldPositions(){this._setWorldSizes(),this._setTranslation()}updatePosition(){this._setDocumentSizes(),this._applyWorldPositions()}updateScrollPosition(t,e){(t||e)&&(this._boundingRect.document.top+=e*this.renderer.pixelRatio,this._boundingRect.document.left+=t*this.renderer.pixelRatio,this._applyWorldPositions())}enableDepthTest(t){this._depthTest=t}moveToFront(){this.renderer.production||r(this.type+": moveToFront() is deprecated, please use setRenderOrder() instead"),this.setRenderOrder()}_initSources(){let t=0;if(this.autoloadSources){let e=[];for(let i=0;i<this.htmlElement.getElementsByTagName("img").length;i++)e.push(this.htmlElement.getElementsByTagName("img")[i]);e.length>0&&this.loadImages(e);let s=[];for(let r=0;r<this.htmlElement.getElementsByTagName("video").length;r++)s.push(this.htmlElement.getElementsByTagName("video")[r]);s.length>0&&this.loadVideos(s);let n=[];for(let a=0;a<this.htmlElement.getElementsByTagName("canvas").length;a++)n.push(this.htmlElement.getElementsByTagName("canvas")[a]);n.length>0&&this.loadCanvases(n),t=e.length+s.length+n.length}this.loader._setLoaderSize(t),this._canDraw=!0}_startDrawing(){this._canDraw&&(this._onRenderCallback&&this._onRenderCallback(),this.target?this.renderer.bindFrameBuffer(this.target):null===this.renderer.state.scenePassIndex&&this.renderer.bindFrameBuffer(null),this._setPerspectiveMatrix(),this._setMVMatrix(),(this.alwaysDraw||this._shouldDraw)&&this.visible&&this._draw())}onReEnterView(t){return t&&(this._onReEnterViewCallback=t),this}onLeaveView(t){return t&&(this._onLeaveViewCallback=t),this}}

class R{constructor(t,{shaderPass:e,depth:i=!1,clear:s=!0,minWidth:r=1024,minHeight:o=1024,texturesOptions:l={}}={}){this.type="RenderTarget",(t=t&&t.renderer||t)&&"Renderer"===t.type?t.gl||n(this.type+": Renderer WebGL context is undefined",t):n(this.type+": Renderer not passed as first argument",t),this.renderer=t,this.gl=this.renderer.gl,this.index=this.renderer.renderTargets.length,this._shaderPass=e,this._depth=i,this._shouldClear=s,this._minSize={width:r*this.renderer.pixelRatio,height:o*this.renderer.pixelRatio},l=Object.assign({sampler:"uRenderTexture",isFBOTexture:!0,premultiplyAlpha:!1,anisotropy:1,generateMipmap:!1,floatingPoint:"none",wrapS:this.gl.CLAMP_TO_EDGE,wrapT:this.gl.CLAMP_TO_EDGE,minFilter:this.gl.LINEAR,magFilter:this.gl.LINEAR},l),this._texturesOptions=l,this.userData={},this.uuid=a(),this.renderer.renderTargets.push(this),this.renderer.onSceneChange(),this._initRenderTarget()}_initRenderTarget(){this._setSize(),this.textures=[],this._createFrameBuffer()}_restoreContext(){this._setSize(),this._createFrameBuffer()}_setSize(){this._shaderPass&&this._shaderPass._isScenePass?this._size={width:this.renderer._boundingRect.width,height:this.renderer._boundingRect.height}:this._size={width:Math.max(this._minSize.width,this.renderer._boundingRect.width),height:Math.max(this._minSize.height,this.renderer._boundingRect.height)}}resize(){this._shaderPass&&(this._setSize(),this.textures[0].resize(),this.renderer.bindFrameBuffer(this,!0),this._depth&&this._bindDepthBuffer(),this.renderer.bindFrameBuffer(null))}_bindDepthBuffer(){this._depthBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this._depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,this._size.width,this._size.height),this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this._depthBuffer))}_createFrameBuffer(){this._frameBuffer=this.gl.createFramebuffer(),this.renderer.bindFrameBuffer(this,!0),this.textures.length?(this.textures[0]._parent=this,this.textures[0]._restoreContext()):new E(this.renderer,this._texturesOptions).addParent(this),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.textures[0]._sampler.texture,0),this._depth&&(this._depthBuffer=this.gl.createRenderbuffer(),this._bindDepthBuffer()),this.renderer.bindFrameBuffer(null)}getTexture(){return this.textures[0]}remove(){this._shaderPass?this.renderer.production||r(this.type+": You're trying to remove a RenderTarget attached to a ShaderPass. You should remove that ShaderPass instead:",this._shaderPass):(this._dispose(),this.renderer.removeRenderTarget(this))}_dispose(){this._frameBuffer&&(this.gl.deleteFramebuffer(this._frameBuffer),this._frameBuffer=null),this._depthBuffer&&(this.gl.deleteRenderbuffer(this._depthBuffer),this._depthBuffer=null),this.textures[0]._dispose(),this.textures=[]}}

class F extends L{constructor(t,e,{sampler:i="uPingPongTexture",shareProgram:s,widthSegments:r,heightSegments:n,renderOrder:a,depthTest:o,cullFace:l,uniforms:h,vertexShaderID:d,fragmentShaderID:u,vertexShader:p,fragmentShader:c,texturesOptions:f,crossOrigin:m,alwaysDraw:g,visible:$,transparent:v,drawCheckMargins:_,autoloadSources:y,watchScroll:x,fov:b}={}){super(t,e,{shareProgram:s,widthSegments:r,heightSegments:n,renderOrder:a,depthTest:!1,cullFace:l,uniforms:h,vertexShaderID:d,fragmentShaderID:u,vertexShader:p,fragmentShader:c,texturesOptions:f,crossOrigin:m,alwaysDraw:g,visible:$,transparent:v,drawCheckMargins:_,autoloadSources:!1,watchScroll:x,fov:b}),this.renderer.scene.removePlane(this),this.type="PingPongPlane",this.renderer.scene.addPlane(this),this.readPass=new R(t,{depth:!1,clear:!1,texturesOptions:f}),this.writePass=new R(t,{depth:!1,clear:!1,texturesOptions:f}),this.createTexture({sampler:i,fromTexture:this.readPass.getTexture()}),this._onRenderCallback=()=>{this.writePass&&this.setRenderTarget(this.writePass),this._onPingPongRenderCallback&&this._onPingPongRenderCallback()},this._onAfterRenderCallback=()=>{this.readPass&&this.writePass&&this.textures[0]&&this._swapPasses(),this._onPingPongAfterRenderCallback&&this._onPingPongAfterRenderCallback()}}_swapPasses(){let t=this.readPass;this.readPass=this.writePass,this.writePass=t,this.textures[0].copy(this.readPass.getTexture())}getTexture(){return this.textures[0]}onRender(t){return t&&(this._onPingPongRenderCallback=t),this}onAfterRender(t){return t&&(this._onPingPongAfterRenderCallback=t),this}remove(){this._canDraw=!1,this.target=null,this.renderer.bindFrameBuffer(null),this.writePass._frameBuffer&&(this.gl.deleteFramebuffer(this.writePass._frameBuffer),this.writePass._frameBuffer=null),this.writePass._depthBuffer&&(this.gl.deleteRenderbuffer(this.writePass._depthBuffer),this.writePass._depthBuffer=null),this.renderer.removeRenderTarget(this.writePass),this.readPass._frameBuffer&&(this.gl.deleteFramebuffer(this.readPass._frameBuffer),this.readPass._frameBuffer=null),this.readPass._depthBuffer&&(this.gl.deleteRenderbuffer(this.readPass._depthBuffer),this.readPass._depthBuffer=null),this.renderer.removeRenderTarget(this.readPass),this._dispose(),this.renderer.removePlane(this)}}

let n={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}}

let o={document:n,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}}

let m={addClass:function(...t){let e=d(t.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.add(...e)}),this},removeClass:function(...t){let e=d(t.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.remove(...e)}),this},hasClass:function(...t){let e=d(t.map(t=>t.split(" ")));return u(this,t=>e.filter(e=>t.classList.contains(e)).length>0).length>0},toggleClass:function(...t){let e=d(t.map(t=>t.split(" ")));this.forEach(t=>{e.forEach(e=>{t.classList.toggle(e)})})},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(let i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(t,e);else for(let s in t)this[i][s]=t[s],this[i].setAttribute(s,t[s]);return this},removeAttr:function(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},transform:function(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this},transition:function(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof t?`${t}ms`:t;return this},on:function(...t){let[e,i,s,r]=t;

function i(s){s.target===this&&(t.call(this,s),e.off("transitionend",i))}

function _(t,e="x"){let i=l(),s,r,n,a=function(t){let e=l(),i;return e.getComputedStyle&&(i=e.getComputedStyle(t,null)),!i&&t.currentStyle&&(i=t.currentStyle),i||(i=t.style),i}(t);return i.WebKitCSSMatrix?((r=a.transform||a.webkitTransform).split(",").length>6&&(r=r.split(", ").map(t=>t.replace(",",".")).join(", ")),n=new i.WebKitCSSMatrix("none"===r?"":r)):s=(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(r=i.WebKitCSSMatrix?n.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===e&&(r=i.WebKitCSSMatrix?n.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),r||0}

function E(){return T||(T=function(){let t=l(),e=a();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let e=!1;try{let i=Object.defineProperty({},"passive",{get(){e=!0}});t.

var D={slideTo:function(t=0,e=this.params.speed,i=!0,s,r){if("number"!=typeof t&&"string"!=typeof t)throw Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if("string"==typeof t){let n=parseInt(t,10);if(!isFinite(n))throw Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=n}let a=this,o=t;o<0&&(o=0);let{params:l,snapGrid:h,slidesGrid:d,previousIndex:u,activeIndex:p,rtlTranslate:c,wrapperEl:f,enabled:m}=a;if(a.animating&&l.preventInteractionOnTransition||!m&&!s&&!r)return!1;let g=Math.min(a.params.slidesPerGroupSkip,o),$=g+Math.floor((o-g)/a.params.slidesPerGroup);$>=h.length&&($=h.length-1);let v=-h[$];if(l.normalizeSlideIndex)for(let _=0;_<d.length;_+=1){let y=-Math.floor(100*v),x=Math.floor(100*d[_]),b=Math.floor(100*d[_+1]);void 0!==d[_+1]?y>=x&&y<b-(b-x)/2?o=_:y>=x&&y<b&&(o=_+1):y>=x&&(o=_)}if(a.initialized&&o!==p&&(!a.allowSlideNext&&v<a.translate&&v<a.minTranslate()||!a.allowSlidePrev&&v>a.translate&&v>a.maxTranslate()&&(p||0)!==o))return!1;let T;if(o!==(u||0)&&i&&a.emit("beforeSlideChangeStart"),a.updateProgress(v),T=o>p?"next":o<p?"prev":"reset",c&&-v===a.translate||!c&&v===a.translate)return a.updateActiveIndex(o),l.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==l.effect&&a.setTranslate(v),"reset"!==T&&(a.transitionStart(i,T),a.transitionEnd(i,T)),!1;if(l.cssMode){let C=a.isHorizontal(),S=c?v:-v;if(0===e){let E=a.virtual&&a.params.virtual.enabled;E&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),f[C?"scrollLeft":"scrollTop"]=S,E&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1})}else{if(!a.support.smoothScroll)return w({swiper:a,targetPosition:S,side:C?"left":"top"}),!0;f.scrollTo({[C?"left":"top"]:S,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(v),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,s),a.transitionStart(i,T),0===e?a.transitionEnd(i,T):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(t){a&&!a.destroyed&&t.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(i,T))}),a.$wrapperEl[0].

addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].

addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd)),!0}

function I(t){let e=a(),i=this,s=i.touchEventsData,{params:r,touches:n,rtlTranslate:o,enabled:l}=i;if(!l)return;let h=t;if(h.originalEvent&&(h=h.originalEvent),!s.isTouched)return void(s.startMoving&&s.isScrolling&&i.emit("touchMoveOpposite",h));if(s.isTouchEvent&&"touchmove"!==h.type)return;let d="touchmove"===h.type&&h.targetTouches&&(h.targetTouches[0]||h.changedTouches[0]),u="touchmove"===h.type?d.pageX:h.pageX,p="touchmove"===h.type?d.pageY:h.pageY;if(h.preventedByNestedSwiper)return n.startX=u,void(n.startY=p);if(!i.allowTouchMove)return g(h.target).is(s.focusableElements)||(i.allowClick=!1),void(s.isTouched&&(Object.assign(n,{startX:u,startY:p,currentX:u,currentY:p}),s.touchStartTime=v()));if(s.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop){if(i.isVertical()){if(p<n.startY&&i.translate<=i.maxTranslate()||p>n.startY&&i.translate>=i.minTranslate())return s.isTouched=!1,void(s.isMoved=!1)}else if(u<n.startX&&i.translate<=i.maxTranslate()||u>n.startX&&i.translate>=i.minTranslate())return}if(s.isTouchEvent&&e.activeElement&&h.target===e.activeElement&&g(h.target).is(s.focusableElements))return s.isMoved=!0,void(i.allowClick=!1);if(s.allowTouchCallbacks&&i.emit("touchMove",h),h.targetTouches&&h.targetTouches.length>1)return;n.currentX=u,n.currentY=p;let c=n.currentX-n.startX,f=n.currentY-n.startY;if(i.params.threshold&&Math.sqrt(c**2+f**2)<i.params.threshold)return;if(void 0===s.isScrolling){let m;i.isHorizontal()&&n.currentY===n.startY||i.isVertical()&&n.currentX===n.startX?s.isScrolling=!1:c*c+f*f>=25&&(m=180*Math.atan2(Math.abs(f),Math.abs(c))/Math.PI,s.isScrolling=i.isHorizontal()?m>r.touchAngle:90-m>r.touchAngle)}if(s.isScrolling&&i.emit("touchMoveOpposite",h),void 0===s.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(s.startMoving=!0)),s.isScrolling)return void(s.isTouched=!1);if(!s.startMoving)return;i.allowClick=!1,!r.cssMode&&h.cancelable&&h.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&h.stopPropagation(),s.isMoved||(r.loop&&!r.cssMode&&i.loopFix(),s.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),s.allowMomentumBounce=!1,r.grabCursor&&(!0===i.allowSlideNext||!0===i.allowSlidePrev)&&i.setGrabCursor(!0),i.emit("sliderFirstMove",h)),i.emit("sliderMove",h),s.isMoved=!0;let $=i.isHorizontal()?c:f;n.diff=$,$*=r.touchRatio,o&&($=-$),i.swipeDirection=$>0?"prev":"next",s.currentTranslate=$+s.startTranslate;let _=!0,y=r.resistanceRatio;if(r.touchReleaseOnEdges&&(y=0),$>0&&s.currentTranslate>i.minTranslate()?(_=!1,r.resistance&&(s.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+s.startTranslate+$)**y)):$<0&&s.currentTranslate<i.maxTranslate()&&(_=!1,r.resistance&&(s.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-s.startTranslate-$)**y)),_&&(h.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),i.allowSlidePrev||i.allowSlideNext||(s.currentTranslate=s.startTranslate),r.threshold>0){if(!(Math.abs($)>r.threshold||s.allowThresholdMove))return void(s.currentTranslate=s.startTranslate);if(!s.allowThresholdMove)return s.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,s.currentTranslate=s.startTranslate,void(n.diff=i.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&i.freeMode||r.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&r.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(s.currentTranslate),i.setTranslate(s.currentTranslate))}

function L(t){let e=this,i=e.touchEventsData,{params:s,touches:r,rtlTranslate:n,slidesGrid:a,enabled:o}=e;if(!o)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),i.allowTouchCallbacks&&e.emit("touchEnd",l),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&e.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);let h=v(),d=h-i.touchStartTime;if(e.allowClick){let u=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(u&&u[0]||l.target),e.emit("tap click",l),d<300&&h-i.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(i.lastClickTime=v(),$(()=>{e.destroyed||(e.allowClick=!0)}),!i.isTouched||!i.isMoved||!e.swipeDirection||0===r.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let p;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,p=s.followFinger?n?e.translate:-e.translate:-i.currentTranslate,s.cssMode)return;if(e.params.freeMode&&s.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:p});let c=0,f=e.slidesSizesGrid[0];for(let m=0;m<a.length;m+=m<s.slidesPerGroupSkip?1:s.slidesPerGroup){let g=m<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==a[m+g]?p>=a[m]&&p<a[m+g]&&(c=m,f=a[m+g]-a[m]):p>=a[m]&&(c=m,f=a[a.length-1]-a[a.length-2])}let _=null,y=null;s.rewind&&(e.isBeginning?y=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(_=0));let x=(p-a[c])/f,b=c<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(d>s.longSwipesMs){if(!s.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(x>=s.longSwipesRatio?e.slideTo(s.rewind&&e.isEnd?_:c+b):e.slideTo(c)),"prev"===e.swipeDirection&&(x>1-s.longSwipesRatio?e.slideTo(c+b):null!==y&&x<0&&Math.abs(x)>s.longSwipesRatio?e.slideTo(y):e.slideTo(c))}else{if(!s.shortSwipes)return void e.slideTo(e.activeIndex);e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(c+b):e.slideTo(c):("next"===e.swipeDirection&&e.slideTo(null!==_?_:c+b),"prev"===e.swipeDirection&&e.slideTo(null!==y?y:c))}}

function R(){let t=this,{params:e,el:i}=t;if(i&&0===i.offsetWidth)return;e.breakpoints&&t.setBreakpoint();let{allowSlideNext:s,allowSlidePrev:r,snapGrid:n}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=r,t.allowSlideNext=s,t.params.watchOverflow&&n!==t.snapGrid&&t.checkOverflow()}

function F(){let t=this,{wrapperEl:e,rtlTranslate:i,enabled:s}=t;if(!s)return;let r;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let n=t.maxTranslate()-t.minTranslate();(r=0===n?0:(t.translate-t.minTranslate())/n)!==t.progress&&t.updateProgress(i?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}

let N=(t,e)=>{let i=a(),{params:s,touchEvents:r,el:n,wrapperEl:o,device:l,support:h}=t,d=!!s.nested,u="on"===e?"addEventListener":"removeEventListener",p=e;if(h.touch){let c=!("touchstart"!==r.start||!h.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1};n[u](r.start,t.onTouchStart,c),n[u](r.move,t.onTouchMove,h.passiveListener?{passive:!1,capture:d}:d),n[u](r.end,t.onTouchEnd,c),r.cancel&&n[u](r.cancel,t.onTouchEnd,c)}else n[u](r.start,t.onTouchStart,!1),i[u](r.move,t.onTouchMove,d),i[u](r.end,t.onTouchEnd,!1);(s.preventClicks||s.preventClicksPropagation)&&n[u]("click",t.onClick,!0),s.cssMode&&o[u]("scroll",t.onScroll),s.updateOnWindowResize?t[p](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",R,!0):t[p]("observerUpdate",R,!0)}

var H={addClasses:function(){let t=this,{classNames:e,params:i,rtl:s,$el:r,device:n,support:a}=t,o=function(t,e){let i=[];return t.forEach(t=>{"object"==typeof t?Object.keys(t).forEach(s=>{t[s]&&i.push(e+s)}):"string"==typeof t&&i.push(e+t)}),i}(["initialized",i.direction,{"pointer-events":!a.touch},{"free-mode":t.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:s},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:n.android},{ios:n.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);e.push(...o),r.addClass([...e].join(" ")),t.emitContainerClasses()},removeClasses:function(){let{$el:t,classNames:e}=this;t.removeClass(e.join(" ")),this.emitContainerClasses()}}

function W(t,e){return function(i={}){let s=Object.keys(i)[0],r=i[s];"object"==typeof r&&null!==r&&(["navigation","pagination","scrollbar"].indexOf(s)>=0&&!0===t[s]&&(t[s]={auto:!0}),s in t&&"enabled"in r&&(!0===t[s]&&(t[s]={enabled:!0}),"object"!=typeof t[s]||"enabled"in t[s]||(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}))),x(e,i)}}

let j={eventsEmitter:P,update:k,translate:{getTranslate:function(t=this.isHorizontal()?"x":"y"){let{params:e,rtlTranslate:i,translate:s,$wrapperEl:r}=this;if(e.virtualTranslate)return i?-s:s;if(e.cssMode)return s;let n=_(r[0],t);return i&&(n=-n),n||0},setTranslate:function(t,e){let i=this,{rtlTranslate:s,params:r,$wrapperEl:n,wrapperEl:a,progress:o}=i,l,h=0,d=0;i.isHorizontal()?h=s?-t:t:d=t,r.roundLengths&&(h=Math.floor(h),d=Math.floor(d)),r.cssMode?a[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-h:-d:r.virtualTranslate||n.transform(`translate3d(${h}px, ${d}px, 0px)`),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?h:d;let u=i.maxTranslate()-i.minTranslate();(l=0===u?0:(t-i.minTranslate())/u)!==o&&i.updateProgress(t),i.emit("setTranslate",i.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t=0,e=this.params.speed,i=!0,s=!0,r){let n=this,{params:a,wrapperEl:o}=n;if(n.animating&&a.preventInteractionOnTransition)return!1;let l=n.minTranslate(),h=n.maxTranslate(),d;if(d=s&&t>l?l:s&&t<h?h:t,n.updateProgress(d),a.cssMode){let u=n.isHorizontal();if(0===e)o[u?"scrollLeft":"scrollTop"]=-d;else{if(!n.support.smoothScroll)return w({swiper:n,targetPosition:-d,side:u?"left":"top"}),!0;o.scrollTo({[u?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===e?(n.setTransition(0),n.setTranslate(d),i&&(n.emit("beforeTransitionStart",e,r),n.emit("transitionEnd"))):(n.setTransition(e),n.setTranslate(d),i&&(n.emit("beforeTransitionStart",e,r),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(t){n&&!n.destroyed&&t.target===this&&(n.$wrapperEl[0].removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.$wrapperEl[0].removeEventListener("webkitTransitionEnd",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,i&&n.emit("transitionEnd"))}),n.$wrapperEl[0].

addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.$wrapperEl[0].

addEventListener("webkitTransitionEnd",n.onTranslateToWrapperTransitionEnd))),!0}

function J(t){let e=this,{params:i,$wrapperEl:s,activeIndex:r}=e;i.loop&&e.loopDestroy();let n=r+1;if("object"==typeof t&&"length"in t){for(let a=0;a<t.length;a+=1)t[a]&&s.prepend(t[a]);n=r+t.length}else s.prepend(t);i.loop&&e.loopCreate(),i.observer||e.update(),e.slideTo(n,0,!1)}

function tt(t,e){let i=this,{$wrapperEl:s,params:r,activeIndex:n}=i,a=n;r.loop&&(a-=i.loopedSlides,i.loopDestroy(),i.slides=s.children(`.${r.slideClass}`));let o=i.slides.length;if(t<=0)return void i.prependSlide(e);if(t>=o)return void i.appendSlide(e);let l=a>t?a+1:a,h=[];for(let d=o-1;d>=t;d-=1){let u=i.slides.eq(d);u.remove(),h.unshift(u)}if("object"==typeof e&&"length"in e){for(let p=0;p<e.length;p+=1)e[p]&&s.append(e[p]);l=a>t?a+e.length:a}else s.append(e);for(let c=0;c<h.length;c+=1)s.append(h[c]);r.loop&&i.loopCreate(),r.observer||i.update(),r.loop?i.slideTo(l+i.loopedSlides,0,!1):i.slideTo(l,0,!1)}

function te(t){let e=this,{params:i,$wrapperEl:s,activeIndex:r}=e,n=r;i.loop&&(n-=e.loopedSlides,e.loopDestroy(),e.slides=s.children(`.${i.slideClass}`));let a,o=n;if("object"==typeof t&&"length"in t){for(let l=0;l<t.length;l+=1)a=t[l],e.slides[a]&&e.slides.eq(a).remove(),a<o&&(o-=1);o=Math.max(o,0)}else a=t,e.slides[a]&&e.slides.eq(a).remove(),a<o&&(o-=1),o=Math.max(o,0);i.loop&&e.loopCreate(),i.observer||e.update(),i.loop?e.slideTo(o+e.loopedSlides,0,!1):e.slideTo(o,0,!1)}

function ti(){let t=this,e=[];for(let i=0;i<t.slides.length;i+=1)e.push(i);t.removeSlide(e)}

function ts(t){let{effect:e,swiper:i,on:s,setTranslate:r,setTransition:n,overwriteParams:a,perspective:o,recreateShadows:l,getEffectParams:h}=t,d;s("beforeInit",()=>{if(i.params.effect!==e)return;i.classNames.push(`${i.params.containerModifierClass}${e}`),o&&o()&&i.classNames.push(`${i.params.containerModifierClass}3d`);let t=a?a():{};Object.assign(i.params,t),Object.assign(i.originalParams,t)}),s("setTranslate",()=>{i.params.effect===e&&r()}),s("setTransition",(t,s)=>{i.params.effect===e&&n(s)}),s("transitionEnd",()=>{i.params.effect===e&&l&&h&&h().slideShadows&&(i.slides.each(t=>{i.$(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l())}),s("virtualUpdate",()=>{i.params.effect===e&&(i.slides.length||(d=!0),requestAnimationFrame(()=>{d&&i.slides&&i.slides.length&&(r(),d=!1)}))})}

function tr(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}

function tn({swiper:t,duration:e,transformEl:i,allSlides:s}

function ta(t,e,i){let s="swiper-slide-shadow"+(i?`-${i}`:""),r=t.transformEl?e.find(t.transformEl):e,n=r.children(`.${s}`);return n.length||(n=g(`<div class="swiper-slide-shadow${i?`-${i}`:""}"></div>`),r.append(n)),n}

function n(e,i){let s=t.params.virtual;if(s.cache&&t.virtual.cache[i])return t.virtual.cache[i];let r=s.renderSlide?g(s.renderSlide.call(t,e,i)):g(`<div class="${t.params.slideClass}" data-swiper-slide-index="${i}">${e}</div>`);return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",i),s.cache&&(t.virtual.cache[i]=r),r}

function a(e){let{slidesPerView:i,slidesPerGroup:r,centeredSlides:a}=t.params,{addSlidesBefore:o,addSlidesAfter:l}=t.params.virtual,{from:h,to:d,slides:u,slidesGrid:p,offset:c}=t.virtual;t.params.cssMode||t.updateActiveIndex();let f=t.activeIndex||0,m,g,$;m=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",a?(g=Math.floor(i/2)+r+l,$=Math.floor(i/2)+r+o):(g=i+(r-1)+l,$=r+o);let v=Math.max((f||0)-$,0),_=Math.min((f||0)+g,u.length-1),y=(t.slidesGrid[v]||0)-(t.slidesGrid[0]||0);

function o(e){if(!t.enabled)return;let{rtlTranslate:i}=t,a=e;a.originalEvent&&(a=a.originalEvent);let o=a.keyCode||a.charCode,l=t.params.keyboard.pageUpDown,h=l&&33===o,d=l&&34===o,u=37===o,p=39===o,c=38===o,f=40===o;if(!t.allowSlideNext&&(t.isHorizontal()&&p||t.isVertical()&&f||d)||!t.allowSlidePrev&&(t.isHorizontal()&&u||t.isVertical()&&c||h))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||r.activeElement&&r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(h||d||u||p||c||f)){let m=!1;if(t.$el.parents(`.${t.params.slideClass}`).length>0&&0===t.$el.parents(`.${t.params.slideActiveClass}`).length)return;let g=t.$el,$=g[0].clientWidth,v=g[0].clientHeight,_=n.innerWidth,y=n.innerHeight,x=t.$el.offset();i&&(x.left-=t.$el[0].scrollLeft);let b=[[x.left,x.top],[x.left+$,x.top],[x.left,x.top+v],[x.left+$,x.top+v]];for(let w=0;w<b.length;w+=1){let T=b[w];if(T[0]>=0&&T[0]<=_&&T[1]>=0&&T[1]<=y){if(0===T[0]&&0===T[1])continue;m=!0}}if(!m)return}t.isHorizontal()?((h||d||u||p)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((d||p)&&!i||(h||u)&&i)&&t.slideNext(),((h||u)&&!i||(d||p)&&i)&&t.slidePrev()):((h||d||c||f)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(d||f)&&t.slideNext(),(h||c)&&t.slidePrev()),s("keyPress",o)}}

function p(e){return!(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta||t.params.mousewheel.thresholdTime&&v()-o<t.params.mousewheel.thresholdTime||!(e.delta>=6&&v()-o<60)&&(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),s("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),s("scroll",e.raw)),o=(new r.Date).getTime(),1))}

function m(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",c),!0):!t.mousewheel.enabled&&(f("on"),t.mousewheel.enabled=!0,!0)}

function n(e,i){let s=t.params.navigation;e&&e.length>0&&(e[i?"addClass":"removeClass"](s.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=i),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](s.lockClass))}

function o(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),s("navigationPrev"))}

function l(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),s("navigationNext"))}

function d(){let{$nextEl:e,$prevEl:i}=t.navigation;e&&e.length&&(e.off("click",l),e.removeClass(t.params.navigation.disabledClass)),i&&i.length&&(i.off("click",o),i.removeClass(t.params.navigation.disabledClass))}

function h(){let e=t.rtl,i=t.params.pagination;if(o())return;let r=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,h=t.pagination.$el,d,u=t.params.loop?Math.ceil((r-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?((d=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup))>r-1-2*t.loopedSlides&&(d-=r-2*t.loopedSlides),d>u-1&&(d-=u),d<0&&"bullets"!==t.params.paginationType&&(d=u+d)):d=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===i.type&&t.pagination.bullets&&t.pagination.bullets.length>0){let p=t.pagination.bullets,c,f,m;if(i.dynamicBullets&&(n=p.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),h.css(t.isHorizontal()?"width":"height",n*(i.dynamicMainBullets+4)+"px"),i.dynamicMainBullets>1&&void 0!==t.previousIndex&&((a+=d-(t.previousIndex-t.loopedSlides||0))>i.dynamicMainBullets-1?a=i.dynamicMainBullets-1:a<0&&(a=0)),m=((f=(c=Math.max(d-a,0))+(Math.min(p.length,i.dynamicMainBullets)-1))+c)/2),p.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(t=>`${i.bulletActiveClass}${t}`).join(" ")),h.length>1)p.each(t=>{let e=g(t),s=e.index();s===d&&e.addClass(i.bulletActiveClass),i.dynamicBullets&&(s>=c&&s<=f&&e.addClass(`${i.bulletActiveClass}-main`),s===c&&l(e,"prev"),s===f&&l(e,"next"))});else{let $=p.eq(d),v=$.index();if($.addClass(i.bulletActiveClass),i.dynamicBullets){let _=p.eq(c),y=p.eq(f);for(let x=c;x<=f;x+=1)p.eq(x).addClass(`${i.bulletActiveClass}-main`);if(t.params.loop){if(v>=p.length){for(let b=i.dynamicMainBullets;b>=0;b-=1)p.eq(p.length-b).addClass(`${i.bulletActiveClass}-main`);p.eq(p.length-i.dynamicMainBullets-1).addClass(`${i.bulletActiveClass}-prev`)}else l(_,"prev"),l(y,"next")}else l(_,"prev"),l(y,"next")}}if(i.dynamicBullets){let w=Math.min(p.length,i.dynamicMainBullets+4),T=(n*w-n)/2-m*n,C=e?"right":"left";p.css(t.isHorizontal()?C:"top",`${T}px`)}}if("fraction"===i.type&&(h.find(Z(i.currentClass)).text(i.formatFractionCurrent(d+1)),h.find(Z(i.totalClass)).text(i.formatFractionTotal(u))),"progressbar"===i.type){let S;S=i.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";let E=(d+1)/u,P=1,k=1;"horizontal"===S?P=E:k=E,h.find(Z(i.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${P}) scaleY(${k})`).transition(t.params.speed)}"custom"===i.type&&i.renderCustom?(h.html(i.renderCustom(t,d+1,u)),s("paginationRender",h[0])):s("paginationUpdate",h[0]),t.params.watchOverflow&&t.enabled&&h[t.isLocked?"addClass":"removeClass"](i.lockClass)}

function d(){let e=t.params.pagination;if(o())return;let i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,r=t.pagination.$el,n="";if("bullets"===e.type){let a=t.params.loop?Math.ceil((i-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&a>i&&(a=i);for(let l=0;l<a;l+=1)e.renderBullet?n+=e.renderBullet.call(t,l,e.bulletClass):n+=`<${e.bulletElement} class="${e.bulletClass}"></${e.bulletElement}>`;r.html(n),t.pagination.bullets=r.find(Z(e.bulletClass))}"fraction"===e.type&&(n=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`,r.html(n)),"progressbar"===e.type&&(n=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`,r.html(n)),"custom"!==e.type&&s("paginationRender",t.pagination.$el[0])}

function u(){t.params.pagination=K(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});let e=t.params.pagination;if(!e.el)return;let i=g(e.el);0!==i.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&i.length>1&&(i=t.$el.find(e.el)).length>1&&(i=i.filter(e=>g(e).parents(".swiper")[0]===t.el)),"bullets"===e.type&&e.clickable&&i.addClass(e.clickableClass),i.addClass(e.modifierClass+e.type),i.addClass(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(i.addClass(`${e.modifierClass}${e.type}-dynamic`),a=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&i.addClass(e.progressbarOppositeClass),e.clickable&&i.on("click",Z(e.bulletClass),function(e){e.preventDefault();let i=g(this).index()*t.params.slidesPerGroup;t.params.loop&&(i+=t.loopedSlides),t.slideTo(i)}),Object.assign(t.pagination,{$el:i,el:i[0]}),t.enabled||i.addClass(e.lockClass))}

function p(){let e=t.params.pagination;if(o())return;let i=t.pagination.$el;i.removeClass(e.hiddenClass),i.removeClass(e.modifierClass+e.type),i.removeClass(t.isHorizontal()?e.horizontalClass:e.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&i.off("click",Z(e.bulletClass))}

function c(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;let{scrollbar:e,rtlTranslate:i,progress:s}=t,{$dragEl:r,$el:n}=e,a=t.params.scrollbar,h=o,d=(l-o)*s;i?(d=-d)>0?(h=o-d,d=0):-d+o>l&&(h=l+d):d<0?(h=o+d,d=0):d+o>l&&(h=l-d),t.isHorizontal()?(r.transform(`translate3d(${d}px, 0, 0)`),r[0].style.width=`${h}px`):(r.transform(`translate3d(0px, ${d}px, 0)`),r[0].style.height=`${h}px`),a.hide&&(clearTimeout(u),n[0].style.opacity=1,u=setTimeout(()=>{n[0].style.opacity=0,n.transition(400)},1e3))}

function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;let{scrollbar:e}=t,{$dragEl:i,$el:s}=e;i[0].style.width="",i[0].style.height="",l=t.isHorizontal()?s[0].offsetWidth:s[0].offsetHeight,h=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),o="auto"===t.params.scrollbar.dragSize?l*h:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?i[0].style.width=`${o}px`:i[0].style.height=`${o}px`,s[0].style.display=h>=1?"none":"",t.params.scrollbar.hide&&(s[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&e.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}

function m(e){return t.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY}

function v(e){let{scrollbar:i,rtlTranslate:s}=t,{$el:r}=i,a;a=Math.max(Math.min(a=(m(e)-r.offset()[t.isHorizontal()?"left":"top"]-(null!==n?n:o/2))/(l-o),1),0),s&&(a=1-a);let h=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*a;t.updateProgress(h),t.setTranslate(h),t.updateActiveIndex(),t.updateSlidesClasses()}

function _(e){let i=t.params.scrollbar,{scrollbar:r,$wrapperEl:a}=t,{$el:o,$dragEl:l}=r;d=!0,n=e.target===l[0]||e.target===l?m(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),a.transition(100),l.transition(100),v(e),clearTimeout(p),o.transition(0),i.hide&&o.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),s("scrollbarDragStart",e)}

function y(e){let{scrollbar:i,$wrapperEl:r}=t,{$el:n,$dragEl:a}=i;d&&(e.preventDefault?e.preventDefault():e.returnValue=!1,v(e),r.transition(0),n.transition(0),a.transition(0),s("scrollbarDragMove",e))}

function x(e){let i=t.params.scrollbar,{scrollbar:r,$wrapperEl:n}=t,{$el:a}=r;d&&(d=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),n.transition("")),i.hide&&(clearTimeout(p),p=$(()=>{a.css("opacity",0),a.transition(400)},1e3)),s("scrollbarDragEnd",e),i.snapOnRelease&&t.slideToClosest())}

function b(e){let{scrollbar:i,touchEventsTouch:s,touchEventsDesktop:n,params:a,support:o}=t,l=i.$el;if(!l)return;let h=l[0],d=!(!o.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},u=!(!o.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};if(!h)return;let p="on"===e?"addEventListener":"removeEventListener";o.touch?(h[p](s.start,_,d),h[p](s.move,y,d),h[p](s.end,x,u)):(h[p](n.start,_,d),r[p](n.move,y,d),r[p](n.end,x,u))}

function w(){let{scrollbar:e,$el:i}=t;t.params.scrollbar=K(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});let s=t.params.scrollbar;if(!s.el)return;let r=g(s.el);t.params.uniqueNavElements&&"string"==typeof s.el&&r.length>1&&1===i.find(s.el).length&&(r=i.find(s.el)),r.addClass(t.isHorizontal()?s.horizontalClass:s.verticalClass);let n=r.find(`.${t.params.scrollbar.dragClass}`);0===n.length&&(n=g(`<div class="${t.params.scrollbar.dragClass}"></div>`),r.append(n)),Object.assign(e,{$el:r,el:r[0],$dragEl:n,dragEl:n[0]}),s.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&b("on"),r&&r[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}

function T(){let e=t.params.scrollbar,i=t.scrollbar.$el;i&&i.removeClass(t.isHorizontal()?e.horizontalClass:e.verticalClass),t.params.scrollbar.el&&t.scrollbar.el&&b("off")}

let C=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),T()}

let s=(e,i)=>{let{rtl:s}=t,r=g(e),n=s?-1:1,a=r.attr("data-swiper-parallax")||"0",o=r.attr("data-swiper-parallax-x"),l=r.attr("data-swiper-parallax-y"),h=r.attr("data-swiper-parallax-scale"),d=r.attr("data-swiper-parallax-opacity");if(o||l?(o=o||"0",l=l||"0"):t.isHorizontal()?(o=a,l="0"):(l=a,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*i*n+"%":o*i*n+"px",l=l.indexOf("%")>=0?parseInt(l,10)*i+"%":l*i+"px",null!=d){let u=d-(d-1)*(1-Math.abs(i));r[0].style.opacity=u}if(null==h)r.transform(`translate3d(${o}, ${l}, 0px)`);else{let p=h-(h-1)*(1-Math.abs(i));r.transform(`translate3d(${o}, ${l}, 0px) scale(${p})`)}}

function $(e){let i=t.support,s=t.params.zoom;if(a=!1,o=!1,!i.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;a=!0,u.scaleStart=m(e)}u.$slideEl&&u.$slideEl.length||(u.$slideEl=g(e.target).closest(`.${t.params.slideClass}`),0===u.$slideEl.length&&(u.$slideEl=t.slides.eq(t.activeIndex)),u.$imageEl=u.$slideEl.find(`.${s.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),u.$imageWrapEl=u.$imageEl.parent(`.${s.containerClass}`),u.maxRatio=u.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,0!==u.$imageWrapEl.length)?(u.$imageEl&&u.$imageEl.transition(0),d=!0):u.$imageEl=void 0}

function v(e){let i=t.support,s=t.params.zoom,r=t.zoom;if(!i.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;o=!0,u.scaleMove=m(e)}u.$imageEl&&0!==u.$imageEl.length?(i.gestures?r.scale=e.scale*h:r.scale=u.scaleMove/u.scaleStart*h,r.scale>u.maxRatio&&(r.scale=u.maxRatio-1+(r.scale-u.maxRatio+1)**.5),r.scale<s.minRatio&&(r.scale=s.minRatio+1-(s.minRatio-r.scale+1)**.5),u.$imageEl.transform(`translate3d(0,0,0) scale(${r.scale})`)):"gesturechange"===e.type&&$(e)}

function y(e){let i=t.device,s=t.support,r=t.params.zoom,n=t.zoom;if(!s.gestures){if(!a||!o||"touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!i.android)return;a=!1,o=!1}u.$imageEl&&0!==u.$imageEl.length&&(n.scale=Math.max(Math.min(n.scale,u.maxRatio),r.minRatio),u.$imageEl.transition(t.params.speed).transform(`translate3d(0,0,0) scale(${n.scale})`),h=n.scale,d=!1,1===n.scale&&(u.$slideEl=void 0))}

function x(e){let i=t.zoom;if(!u.$imageEl||0===u.$imageEl.length||(t.allowClick=!1,!p.isTouched||!u.$slideEl))return;p.isMoved||(p.width=u.$imageEl[0].offsetWidth,p.height=u.$imageEl[0].offsetHeight,p.startX=_(u.$imageWrapEl[0],"x")||0,p.startY=_(u.$imageWrapEl[0],"y")||0,u.slideWidth=u.$slideEl[0].offsetWidth,u.slideHeight=u.$slideEl[0].offsetHeight,u.$imageWrapEl.transition(0));let s=p.width*i.scale,r=p.height*i.scale;if(!(s<u.slideWidth&&r<u.slideHeight)){if(p.minX=Math.min(u.slideWidth/2-s/2,0),p.maxX=-p.minX,p.minY=Math.min(u.slideHeight/2-r/2,0),p.maxY=-p.minY,p.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,p.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!p.isMoved&&!d&&(t.isHorizontal()&&(Math.floor(p.minX)===Math.floor(p.startX)&&p.touchesCurrent.x<p.touchesStart.x||Math.floor(p.maxX)===Math.floor(p.startX)&&p.touchesCurrent.x>p.touchesStart.x)||!t.isHorizontal()&&(Math.floor(p.minY)===Math.floor(p.startY)&&p.touchesCurrent.y<p.touchesStart.y||Math.floor(p.maxY)===Math.floor(p.startY)&&p.touchesCurrent.y>p.touchesStart.y)))return void(p.isTouched=!1);e.cancelable&&e.preventDefault(),e.stopPropagation(),p.isMoved=!0,p.currentX=p.touchesCurrent.x-p.touchesStart.x+p.startX,p.currentY=p.touchesCurrent.y-p.touchesStart.y+p.startY,p.currentX<p.minX&&(p.currentX=p.minX+1-(p.minX-p.currentX+1)**.8),p.currentX>p.maxX&&(p.currentX=p.maxX-1+(p.currentX-p.maxX+1)**.8),p.currentY<p.minY&&(p.currentY=p.minY+1-(p.minY-p.currentY+1)**.8),p.currentY>p.maxY&&(p.currentY=p.maxY-1+(p.currentY-p.maxY+1)**.8),c.prevPositionX||(c.prevPositionX=p.touchesCurrent.x),c.prevPositionY||(c.prevPositionY=p.touchesCurrent.y),c.prevTime||(c.prevTime=Date.now()),c.x=(p.touchesCurrent.x-c.prevPositionX)/(Date.now()-c.prevTime)/2,c.y=(p.touchesCurrent.y-c.prevPositionY)/(Date.now()-c.prevTime)/2,2>Math.abs(p.touchesCurrent.x-c.prevPositionX)&&(c.x=0),2>Math.abs(p.touchesCurrent.y-c.prevPositionY)&&(c.y=0),c.prevPositionX=p.touchesCurrent.x,c.prevPositionY=p.touchesCurrent.y,c.prevTime=Date.now(),u.$imageWrapEl.transform(`translate3d(${p.currentX}px, ${p.currentY}px,0)`)}}

function b(){let e=t.zoom;u.$slideEl&&t.previousIndex!==t.activeIndex&&(u.$imageEl&&u.$imageEl.transform("translate3d(0,0,0) scale(1)"),u.$imageWrapEl&&u.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,h=1,u.$slideEl=void 0,u.$imageEl=void 0,u.$imageWrapEl=void 0)}

function w(e){let i=t.zoom,s=t.params.zoom;if(u.$slideEl||(e&&e.target&&(u.$slideEl=g(e.target).closest(`.${t.params.slideClass}`)),u.$slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?u.$slideEl=t.$wrapperEl.children(`.${t.params.slideActiveClass}`):u.$slideEl=t.slides.eq(t.activeIndex)),u.$imageEl=u.$slideEl.find(`.${s.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),u.$imageWrapEl=u.$imageEl.parent(`.${s.containerClass}`)),!u.$imageEl||0===u.$imageEl.length||!u.$imageWrapEl||0===u.$imageWrapEl.length)return;let n,a,o,l,d,c,f,m,$,v,_,y,x,b,w,T,C,S;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),u.$slideEl.addClass(`${s.zoomedSlideClass}`),void 0===p.touchesStart.x&&e?(n="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,a="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(n=p.touchesStart.x,a=p.touchesStart.y),i.scale=u.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,h=u.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,e?(C=u.$slideEl[0].offsetWidth,S=u.$slideEl[0].offsetHeight,o=u.$slideEl.offset().left+r.scrollX,l=u.$slideEl.offset().top+r.scrollY,d=o+C/2-n,c=l+S/2-a,$=u.$imageEl[0].offsetWidth,v=u.$imageEl[0].offsetHeight,_=$*i.scale,y=v*i.scale,x=Math.min(C/2-_/2,0),b=Math.min(S/2-y/2,0),w=-x,T=-b,f=d*i.scale,m=c*i.scale,f<x&&(f=x),f>w&&(f=w),m<b&&(m=b),m>T&&(m=T)):(f=0,m=0),u.$imageWrapEl.transition(300).transform(`translate3d(${f}px, ${m}px,0)`),u.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${i.scale})`)}

function T(){let e=t.zoom,i=t.params.zoom;u.$slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?u.$slideEl=t.$wrapperEl.children(`.${t.params.slideActiveClass}`):u.$slideEl=t.slides.eq(t.activeIndex),u.$imageEl=u.$slideEl.find(`.${i.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),u.$imageWrapEl=u.$imageEl.parent(`.${i.containerClass}`)),u.$imageEl&&0!==u.$imageEl.length&&u.$imageWrapEl&&0!==u.$imageWrapEl.length&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),e.scale=1,h=1,u.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),u.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),u.$slideEl.removeClass(`${i.zoomedSlideClass}`),u.$slideEl=void 0)}

function C(e){let i=t.zoom;i.scale&&1!==i.scale?T():w(e)}

function E(){return`.${t.params.slideClass}`}

function D(){let e=t.zoom;if(e.enabled)return;e.enabled=!0;let i=t.support,{passiveListener:s,activeListenerWithCapture:r}=S(),n=E();i.gestures?(t.$wrapperEl.on(t.touchEvents.start,k,s),t.$wrapperEl.on(t.touchEvents.end,A,s)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.on(t.touchEvents.start,n,$,s),t.$wrapperEl.on(t.touchEvents.move,n,v,r),t.$wrapperEl.on(t.touchEvents.end,n,y,s),t.touchEvents.cancel&&t.$wrapperEl.on(t.touchEvents.cancel,n,y,s)),t.$wrapperEl.on(t.touchEvents.move,`.${t.params.zoom.containerClass}`,x,r)}

function M(){let e=t.zoom;if(!e.enabled)return;let i=t.support;e.enabled=!1;let{passiveListener:s,activeListenerWithCapture:r}=S(),n=E();i.gestures?(t.$wrapperEl.off(t.touchEvents.start,k,s),t.$wrapperEl.off(t.touchEvents.end,A,s)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.off(t.touchEvents.start,n,$,s),t.$wrapperEl.off(t.touchEvents.move,n,v,r),t.$wrapperEl.off(t.touchEvents.end,n,y,s),t.touchEvents.cancel&&t.$wrapperEl.off(t.touchEvents.cancel,n,y,s)),t.$wrapperEl.off(t.touchEvents.move,`.${t.params.zoom.containerClass}`,x,r)}

function a(e,i=!0){let r=t.params.lazy;if(void 0===e||0===t.slides.length)return;let n=t.virtual&&t.params.virtual.enabled?t.$wrapperEl.children(`.${t.params.slideClass}[data-swiper-slide-index="${e}"]`):t.slides.eq(e),o=n.find(`.${r.elementClass}:not(.${r.loadedClass}):not(.${r.loadingClass})`);!n.hasClass(r.elementClass)||n.hasClass(r.loadedClass)||n.hasClass(r.loadingClass)||o.push(n[0]),0!==o.length&&o.each(e=>{let o=g(e);o.addClass(r.loadingClass);let l=o.attr("data-background"),h=o.attr("data-src"),d=o.attr("data-srcset"),u=o.attr("data-sizes"),p=o.parent("picture");t.loadImage(o[0],h||l,d,u,!1,()=>{if(null!=t&&t&&(!t||t.params)&&!t.destroyed){if(l?(o.css("background-image",`url("${l}")`),o.removeAttr("data-background")):(d&&(o.attr("srcset",d),o.removeAttr("data-srcset")),u&&(o.attr("sizes",u),o.removeAttr("data-sizes")),p.length&&p.children("source").each(t=>{let e=g(t);e.attr("data-srcset")&&(e.attr("srcset",e.attr("data-srcset")),e.removeAttr("data-srcset"))}),h&&(o.attr("src",h),o.removeAttr("data-src"))),o.addClass(r.loadedClass).removeClass(r.loadingClass),n.find(`.${r.preloaderClass}`).remove(),t.params.loop&&i){let e=n.attr("data-swiper-slide-index");n.hasClass(t.params.slideDuplicateClass)?a(t.$wrapperEl.children(`[data-swiper-slide-index="${e}"]:not(.${t.params.slideDuplicateClass})`).index(),!1):a(t.$wrapperEl.children(`.${t.params.slideDuplicateClass}[data-swiper-slide-index="${e}"]`).index(),!1)}s("lazyImageReady",n[0],o[0]),t.params.autoHeight&&t.updateAutoHeight()}}),s("lazyImageLoad",n[0],o[0])})}

function o(){let{$wrapperEl:e,params:i,slides:s,activeIndex:r}=t,o=t.virtual&&i.virtual.enabled,l=i.lazy,h=i.slidesPerView;

function d(t){if(o){if(e.children(`.${i.slideClass}[data-swiper-slide-index="${t}"]`).length)return!0}else if(s[t])return!0;return!1}

function u(t){return o?g(t).attr("data-swiper-slide-index"):g(t).index()}

function h(){let e=l();if(!t||t.destroyed)return;let i=t.params.lazy.scrollingElement?g(t.params.lazy.scrollingElement):g(e),s=i[0]===e,n=s?e.innerWidth:i[0].offsetWidth,a=s?e.innerHeight:i[0].offsetHeight,d=t.$el.offset(),{rtlTranslate:u}=t,p=!1;u&&(d.left-=t.$el[0].scrollLeft);let c=[[d.left,d.top],[d.left+t.width,d.top],[d.left,d.top+t.height],[d.left+t.width,d.top+t.height]];for(let f=0;f<c.length;f+=1){let m=c[f];if(m[0]>=0&&m[0]<=n&&m[1]>=0&&m[1]<=a){if(0===m[0]&&0===m[1])continue;p=!0}}let $=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};p?(o(),i.off("scroll",h,$)):r||(r=!0,i.on("scroll",h,$))}

function l(e){var i;let r=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(i=e,t.controller.spline||(t.controller.spline=t.params.loop?new s(t.slidesGrid,i.slidesGrid):new s(t.snapGrid,i.snapGrid)),a=-t.controller.spline.interpolate(-r)),a&&"container"!==t.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),a=(r-t.minTranslate())*n+e.minTranslate()),t.params.controller.inverse&&(a=e.maxTranslate()-a),e.updateProgress(a),e.setTranslate(a,t),e.updateActiveIndex(),e.updateSlidesClasses()}

function a(i){i.setTransition(e,t),0!==e&&(i.transitionStart(),i.params.autoHeight&&$(()=>{i.updateAutoHeight()}),i.$wrapperEl.transitionEnd(()=>{r&&(i.params.loop&&"slide"===t.params.controller.by&&i.loopFix(),i.transitionEnd())}))}

function p(e){if(13!==e.keyCode&&32!==e.keyCode)return;let i=t.params.a11y,s=g(e.target);t.navigation&&t.navigation.$nextEl&&s.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?r(i.lastSlideMessage):r(i.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&s.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?r(i.firstSlideMessage):r(i.prevSlideMessage)),t.pagination&&s.is(Z(t.params.pagination.bulletClass))&&s[0].click()}

let h=()=>{i("hashChange");let e=n.location.hash.replace("#","");if(e!==t.slides.eq(t.activeIndex).attr("data-hash")){let s=t.$wrapperEl.children(`.${t.params.slideClass}[data-hash="${e}"]`).index();if(void 0===s)return;t.slideTo(s)}}

function n(){if(!t.size)return t.autoplay.running=!1,void(t.autoplay.paused=!1);let e=t.slides.eq(t.activeIndex),i=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(i=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(r),r=$(()=>{let e;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),e=t.slidePrev(t.params.speed,!0,!0),s("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?l():(e=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),s("autoplay")):(e=t.slidePrev(t.params.speed,!0,!0),s("autoplay")):t.params.loop?(t.loopFix(),e=t.slideNext(t.params.speed,!0,!0),s("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?l():(e=t.slideTo(0,t.params.speed,!0,!0),s("autoplay")):(e=t.slideNext(t.params.speed,!0,!0),s("autoplay")),(t.params.cssMode&&t.autoplay.running||!1===e)&&n()},i)}

function h(e){t.autoplay.running&&(t.autoplay.paused||(r&&clearTimeout(r),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(e=>{t.$wrapperEl[0].addEventListener(e,u)}):(t.autoplay.paused=!1,n())))}

function u(e){t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(e=>{t.$wrapperEl[0].removeEventListener(e,u)}),t.autoplay.paused=!1,t.autoplay.running?n():l())}

function p(){t.params.autoplay.disableOnInteraction?l():(s("autoplayPause"),h()),["transitionend","webkitTransitionEnd"].forEach(e=>{t.$wrapperEl[0].removeEventListener(e,u)})}

function n(){let e=t.thumbs.swiper;if(!e||e.destroyed)return;let i=e.clickedIndex,s=e.clickedSlide;if(s&&g(s).hasClass(t.params.thumbs.slideThumbActiveClass)||null==i)return;let r;if(r=e.params.loop?parseInt(g(e.clickedSlide).attr("data-swiper-slide-index"),10):i,t.params.loop){let n=t.activeIndex;t.slides.eq(n).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,n=t.activeIndex);let a=t.slides.eq(n).prevAll(`[data-swiper-slide-index="${r}"]`).eq(0).index(),o=t.slides.eq(n).nextAll(`[data-swiper-slide-index="${r}"]`).eq(0).index();r=void 0===a?o:void 0===o?a:o-n<n-a?o:a}t.slideTo(r)}

function a(){let{thumbs:e}=t.params;if(s)return!1;s=!0;let i=t.constructor;if(e.swiper instanceof i)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(y(e.swiper)){let a=Object.assign({},e.swiper);Object.assign(a,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new i(a),r=!0}return t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",n),!0}

function o(e){let i=t.thumbs.swiper;if(!i||i.destroyed)return;let s="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView,r=1,n=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(r=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(r=1),r=Math.floor(r),i.slides.removeClass(n),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(let a=0;a<r;a+=1)i.$wrapperEl.children(`[data-swiper-slide-index="${t.realIndex+a}"]`).addClass(n);else for(let o=0;o<r;o+=1)i.slides.eq(t.realIndex+o).addClass(n);let l=t.params.thumbs.autoScrollOffset,h=l&&!i.params.loop;if(t.realIndex!==i.realIndex||h){let d,u,p=i.activeIndex;if(i.params.loop){i.slides.eq(p).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,p=i.activeIndex);let c=i.slides.eq(p).prevAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index(),f=i.slides.eq(p).nextAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index();d=void 0===c?f:void 0===f?c:f-p==p-c?i.params.slidesPerGroup>1?f:p:f-p<p-c?f:c,u=t.activeIndex>t.previousIndex?"next":"prev"}else u=(d=t.realIndex)>t.previousIndex?"next":"prev";h&&(d+="next"===u?l:-1*l),i.visibleSlidesIndexes&&0>i.visibleSlidesIndexes.indexOf(d)&&(i.params.centeredSlides?d=d>p?d-Math.floor(s/2)+1:d+Math.floor(s/2)-1:d>p&&i.params.slidesPerGroup,i.slideTo(d,e?0:void 0))}}

let s=(t,e,i)=>{let s=i?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),r=i?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===s.length&&(s=g(`<div class="swiper-slide-shadow-${i?"left":"top"}"></div>`),t.append(s)),0===r.length&&(r=g(`<div class="swiper-slide-shadow-${i?"right":"bottom"}"></div>`),t.append(r)),s.length&&(s[0].style.opacity=Math.max(-e,0)),r.length&&(r[0].style.opacity=Math.max(e,0))}

let s=(e,i,s)=>{let r=t.isHorizontal()?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),n=t.isHorizontal()?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===r.length&&(r=ta(s,e,t.isHorizontal()?"left":"top")),0===n.length&&(n=ta(s,e,t.isHorizontal()?"right":"bottom")),r.length&&(r[0].style.opacity=Math.max(-i,0)),n.length&&(n[0].style.opacity=Math.max(i,0))}

